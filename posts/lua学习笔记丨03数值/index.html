<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta name="generator" content="Hugo 0.136.5">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon_32.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="" />
  <meta property="og:url" content="http://localhost:1313/posts/lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%A803%E6%95%B0%E5%80%BC/" />
  <link rel="canonical" href="http://localhost:1313/posts/lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%A803%E6%95%B0%E5%80%BC/" /><link rel="apple-touch-icon" href="/favicon.png" />
  <link rel="icon" href="/favicon.png" />
  <link rel="shortcut" href="/favicon.png" /><link rel="alternate" type="application/atom+xml" href="http://localhost:1313/index.xml" title="å­æ˜¥å»¿ä¸€">

  <script type="application/ld+json">
  {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
           "@type": "WebPage",
           "@id": "http:\/\/localhost:1313\/"
      },
      "articleSection" : "posts",
      "name" : "Luaå­¦ä¹ ç¬”è®°ä¸¨03æ•°å€¼",
      "headline" : "Luaå­¦ä¹ ç¬”è®°ä¸¨03æ•°å€¼",
      "description" : "3.1 æ•°å€¼å¸¸é‡ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç§‘å­¦æŠ€æœ¯æ³•ï¼ˆä¸€ä¸ªå¯é€‰çš„åè¿›åˆ¶éƒ¨åˆ†å¤–åŠ ä¸€ä¸ªå¯é€‰çš„åè¿›åˆ¶æŒ‡æ•°éƒ¨åˆ†ï¼‰ä¹¦å†™æ•°å€¼å¸¸é‡ï¼Œä¾‹å¦‚ï¼š\n4.77e-3\t--\u0026gt; 0.00477\r0.3e12\t--\u0026gt; 300000000000.0\r4e\u002b3\t--\u0026gt; 4000.0\r5E\u002b20\t--\u0026gt; 5e\u002b020 å…·æœ‰åè¿›åˆ¶å°æ•°æˆ–è€…æŒ‡æ•°çš„æ•°å€¼ä¼šè¢«å½“åšæµ®ç‚¹ç±»å‹å€¼ï¼Œå¦åˆ™ä¼šè¢«å½“ä½œæ•´å‹å€¼ã€‚\nç”±äºæ•´å‹å€¼å’Œæµ®ç‚¹å‹å€¼çš„ç±»å‹éƒ½æ˜¯\u0026quot;number\u0026quot;ï¼Œæ‰€ä»¥å®ƒä»¬æ˜¯å¯ä»¥ç›¸äº’è½¬åŒ–çš„ã€‚åŒæ—¶ï¼Œå…·æœ‰ç›¸åŒç®—æœ¯å€¼çš„æ•´å‹å€¼å’Œæµ®ç‚¹ç±»å‹å€¼åœ¨Luaè¯­è¨€ä¸­æ˜¯ç›¸ç­‰çš„ï¼š\n1 == 1.0\t--\u0026gt; true\r-3 == -3.0\t--\u0026gt; true\r0.2e3 == 200\t--\u0026gt; true åœ¨å°‘æ•°æƒ…å†µä¸‹ï¼Œéœ€è¦åŒºåˆ†æ•´å‹å€¼å’Œæµ®ç‚¹å‹å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨math.typeï¼š\nmath.type(3)\t--\u0026gt; integer\rmath.type(3.0)\t--\u0026gt; float Luaè¯­è¨€ä¹Ÿæ”¯æŒä»¥0xå¼€å¤´çš„åå…­è¿›åˆ¶å¸¸é‡ã€‚ä¸å…¶å®ƒè¯­è¨€ä¸åŒçš„æ˜¯ï¼ŒLuaè¿˜æ”¯æŒåå…­è¿›åˆ¶çš„æµ®ç‚¹æ•°ï¼Œè¿™ç§åå…­è¿›åˆ¶æµ®ç‚¹æ•°ä»¥pæˆ–På¼€å¤´çš„æŒ‡æ•°éƒ¨åˆ†ç»„æˆã€‚\n0xff\t--\u0026gt; 255\r0x1A3\t--\u0026gt; 419\r0x0.2\t--\u0026gt; 0.125\r0x1p-1\t--\u0026gt; 0.5(påé¢çš„æ•°å­—è¡¨ç¤º2çš„å¹‚æ¬¡)\r0xa.bp2\t--\u0026gt; 42.75 å¯ä»¥ä½¿ç”¨%aå‚æ•°ï¼Œé€šè¿‡å‡½æ•°string.formatæœ€è¿™ç§æ ¼å¼è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºï¼š\nstring.format(\u0026#34;%a\u0026#34;,419)\t--\u0026gt; 0x1.a3p\u002b8\rstring.format(\u0026#34;%a\u0026#34;,0.1)\t--\u0026gt; 0x1.999999999999ap-4 è™½ç„¶éš¾ä»¥é˜…è¯»ï¼Œä½†æ˜¯å¯ä»¥ä¿ç•™æ‰€æœ‰æµ®ç‚¹æ•°çš„ç²¾åº¦ï¼Œå¹¶ä¸”æ¯”åè¿›åˆ¶çš„è½¬æ¢é€Ÿåº¦æ›´å¿«ã€‚\n3.2 ç®—æœ¯è¿ç®— é™¤äº†åŠ ã€å‡ã€ä¹˜ã€é™¤ã€å–è´Ÿæ•°ï¼ˆå•ç›®å‡æ³•ï¼‰ç­‰ï¼Œè¿˜æ”¯æŒå–æ•´é™¤æ³•ï¼ˆflooré™¤æ³•ï¼‰ï¼Œå–æ¨¡å’ŒæŒ‡æ•°è¿ç®—ã€‚\nå½“æ“ä½œæ•°ä¸€ä¸ªæ˜¯æ•´å‹å€¼ä¸€ä¸ªæ˜¯æµ®ç‚¹å‹å€¼æ—¶ï¼ŒLuaè¯­è¨€ä¼šåœ¨è¿›è¡Œç®—æœ¯è¿ç®—å‰å…ˆå°†æ•´å‹å€¼è½¬æ¢ä¸ºæµ®ç‚¹å‹å€¼ï¼š\n13.0 \u002b 25\t--\u0026gt; 38.0\r-(3 * 6.0)\t--\u0026gt; -18.0 ç”±äºä¸¤ä¸ªæ•´æ•°ç›¸é™¤çš„ç»“æœä¸ä¸€å®šæ—¶æ•´é™¤ï¼Œå› æ­¤è§¦å‘ä¸éµå¾ªæ•´å‹å€¼å’Œæ•´å‹å€¼è¿›è¡Œç®—æœ¯è¿ç®—çš„ç»“æœä¾ç„¶æ˜¯æ•´å‹å€¼ï¼Œä¸ºäº†é¿å…ä¸¤ä¸ªæ•´å‹å€¼ç›¸é™¤å’Œä¸¤ä¸ªæµ®ç‚¹å‹å€¼ç›¸é™¤å¯¼è‡´ä¸ä¸€æ ·çš„ç»“æœï¼Œé™¤æ³•è¿ç®—æ“ä½œçš„æ°¸è¿œæ˜¯æµ®ç‚¹æ•°ä¸”äº§ç”Ÿæµ®ç‚¹å‹å€¼çš„ç»“æœï¼š\n",
      "inLanguage" : "en-US",
      "author" : "",
      "creator" : "",
      "publisher": "",
      "accountablePerson" : "",
      "copyrightHolder" : "",
      "copyrightYear" : "2025",
      "datePublished": "2025-01-03 00:00:00 \u002b0000 UTC",
      "dateModified" : "2025-01-03 00:00:00 \u002b0000 UTC",
      "url" : "http:\/\/localhost:1313\/posts\/lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%A803%E6%95%B0%E5%80%BC\/",
      "keywords" : [  ]
  }
</script>
<title>
    
    Luaå­¦ä¹ ç¬”è®°ä¸¨03æ•°å€¼
  
  </title>
  <meta property="og:title" content="Luaå­¦ä¹ ç¬”è®°ä¸¨03æ•°å€¼" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="3.1 æ•°å€¼å¸¸é‡ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç§‘å­¦æŠ€æœ¯æ³•ï¼ˆä¸€ä¸ªå¯é€‰çš„åè¿›åˆ¶éƒ¨åˆ†å¤–åŠ ä¸€ä¸ªå¯é€‰çš„åè¿›åˆ¶æŒ‡æ•°éƒ¨åˆ†ï¼‰ä¹¦å†™æ•°å€¼å¸¸é‡ï¼Œä¾‹å¦‚ï¼š
4.77e-3	--&gt; 0.004770.3e12	--&gt; 300000000000.04e&#43;3	--&gt; 4000.05E&#43;20	--&gt; 5e&#43;020 å…·æœ‰åè¿›åˆ¶å°æ•°æˆ–è€…æŒ‡æ•°çš„æ•°å€¼ä¼šè¢«å½“åšæµ®ç‚¹ç±»å‹å€¼ï¼Œå¦åˆ™ä¼šè¢«å½“ä½œæ•´å‹å€¼ã€‚
ç”±äºæ•´å‹å€¼å’Œæµ®ç‚¹å‹å€¼çš„ç±»å‹éƒ½æ˜¯&quot;number&quot;ï¼Œæ‰€ä»¥å®ƒä»¬æ˜¯å¯ä»¥ç›¸äº’è½¬åŒ–çš„ã€‚åŒæ—¶ï¼Œå…·æœ‰ç›¸åŒç®—æœ¯å€¼çš„æ•´å‹å€¼å’Œæµ®ç‚¹ç±»å‹å€¼åœ¨Luaè¯­è¨€ä¸­æ˜¯ç›¸ç­‰çš„ï¼š
1 == 1.0	--&gt; true-3 == -3.0	--&gt; true0.2e3 == 200	--&gt; true åœ¨å°‘æ•°æƒ…å†µä¸‹ï¼Œéœ€è¦åŒºåˆ†æ•´å‹å€¼å’Œæµ®ç‚¹å‹å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨math.typeï¼š
math.type(3)	--&gt; integermath.type(3.0)	--&gt; float Luaè¯­è¨€ä¹Ÿæ”¯æŒä»¥0xå¼€å¤´çš„åå…­è¿›åˆ¶å¸¸é‡ã€‚ä¸å…¶å®ƒè¯­è¨€ä¸åŒçš„æ˜¯ï¼ŒLuaè¿˜æ”¯æŒåå…­è¿›åˆ¶çš„æµ®ç‚¹æ•°ï¼Œè¿™ç§åå…­è¿›åˆ¶æµ®ç‚¹æ•°ä»¥pæˆ–På¼€å¤´çš„æŒ‡æ•°éƒ¨åˆ†ç»„æˆã€‚
0xff	--&gt; 2550x1A3	--&gt; 4190x0.2	--&gt; 0.1250x1p-1	--&gt; 0.5(påé¢çš„æ•°å­—è¡¨ç¤º2çš„å¹‚æ¬¡)0xa.bp2	--&gt; 42.75 å¯ä»¥ä½¿ç”¨%aå‚æ•°ï¼Œé€šè¿‡å‡½æ•°string.formatæœ€è¿™ç§æ ¼å¼è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºï¼š
string.format(&#34;%a&#34;,419)	--&gt; 0x1.a3p&#43;8string.format(&#34;%a&#34;,0.1)	--&gt; 0x1.999999999999ap-4 è™½ç„¶éš¾ä»¥é˜…è¯»ï¼Œä½†æ˜¯å¯ä»¥ä¿ç•™æ‰€æœ‰æµ®ç‚¹æ•°çš„ç²¾åº¦ï¼Œå¹¶ä¸”æ¯”åè¿›åˆ¶çš„è½¬æ¢é€Ÿåº¦æ›´å¿«ã€‚
3.2 ç®—æœ¯è¿ç®— é™¤äº†åŠ ã€å‡ã€ä¹˜ã€é™¤ã€å–è´Ÿæ•°ï¼ˆå•ç›®å‡æ³•ï¼‰ç­‰ï¼Œè¿˜æ”¯æŒå–æ•´é™¤æ³•ï¼ˆflooré™¤æ³•ï¼‰ï¼Œå–æ¨¡å’ŒæŒ‡æ•°è¿ç®—ã€‚
å½“æ“ä½œæ•°ä¸€ä¸ªæ˜¯æ•´å‹å€¼ä¸€ä¸ªæ˜¯æµ®ç‚¹å‹å€¼æ—¶ï¼ŒLuaè¯­è¨€ä¼šåœ¨è¿›è¡Œç®—æœ¯è¿ç®—å‰å…ˆå°†æ•´å‹å€¼è½¬æ¢ä¸ºæµ®ç‚¹å‹å€¼ï¼š
13.0 &#43; 25	--&gt; 38.0-(3 * 6.0)	--&gt; -18.0 ç”±äºä¸¤ä¸ªæ•´æ•°ç›¸é™¤çš„ç»“æœä¸ä¸€å®šæ—¶æ•´é™¤ï¼Œå› æ­¤è§¦å‘ä¸éµå¾ªæ•´å‹å€¼å’Œæ•´å‹å€¼è¿›è¡Œç®—æœ¯è¿ç®—çš„ç»“æœä¾ç„¶æ˜¯æ•´å‹å€¼ï¼Œä¸ºäº†é¿å…ä¸¤ä¸ªæ•´å‹å€¼ç›¸é™¤å’Œä¸¤ä¸ªæµ®ç‚¹å‹å€¼ç›¸é™¤å¯¼è‡´ä¸ä¸€æ ·çš„ç»“æœï¼Œé™¤æ³•è¿ç®—æ“ä½œçš„æ°¸è¿œæ˜¯æµ®ç‚¹æ•°ä¸”äº§ç”Ÿæµ®ç‚¹å‹å€¼çš„ç»“æœï¼š
" />
  <meta name="description" content="3.1 æ•°å€¼å¸¸é‡ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç§‘å­¦æŠ€æœ¯æ³•ï¼ˆä¸€ä¸ªå¯é€‰çš„åè¿›åˆ¶éƒ¨åˆ†å¤–åŠ ä¸€ä¸ªå¯é€‰çš„åè¿›åˆ¶æŒ‡æ•°éƒ¨åˆ†ï¼‰ä¹¦å†™æ•°å€¼å¸¸é‡ï¼Œä¾‹å¦‚ï¼š
4.77e-3	--&gt; 0.004770.3e12	--&gt; 300000000000.04e&#43;3	--&gt; 4000.05E&#43;20	--&gt; 5e&#43;020 å…·æœ‰åè¿›åˆ¶å°æ•°æˆ–è€…æŒ‡æ•°çš„æ•°å€¼ä¼šè¢«å½“åšæµ®ç‚¹ç±»å‹å€¼ï¼Œå¦åˆ™ä¼šè¢«å½“ä½œæ•´å‹å€¼ã€‚
ç”±äºæ•´å‹å€¼å’Œæµ®ç‚¹å‹å€¼çš„ç±»å‹éƒ½æ˜¯&quot;number&quot;ï¼Œæ‰€ä»¥å®ƒä»¬æ˜¯å¯ä»¥ç›¸äº’è½¬åŒ–çš„ã€‚åŒæ—¶ï¼Œå…·æœ‰ç›¸åŒç®—æœ¯å€¼çš„æ•´å‹å€¼å’Œæµ®ç‚¹ç±»å‹å€¼åœ¨Luaè¯­è¨€ä¸­æ˜¯ç›¸ç­‰çš„ï¼š
1 == 1.0	--&gt; true-3 == -3.0	--&gt; true0.2e3 == 200	--&gt; true åœ¨å°‘æ•°æƒ…å†µä¸‹ï¼Œéœ€è¦åŒºåˆ†æ•´å‹å€¼å’Œæµ®ç‚¹å‹å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨math.typeï¼š
math.type(3)	--&gt; integermath.type(3.0)	--&gt; float Luaè¯­è¨€ä¹Ÿæ”¯æŒä»¥0xå¼€å¤´çš„åå…­è¿›åˆ¶å¸¸é‡ã€‚ä¸å…¶å®ƒè¯­è¨€ä¸åŒçš„æ˜¯ï¼ŒLuaè¿˜æ”¯æŒåå…­è¿›åˆ¶çš„æµ®ç‚¹æ•°ï¼Œè¿™ç§åå…­è¿›åˆ¶æµ®ç‚¹æ•°ä»¥pæˆ–På¼€å¤´çš„æŒ‡æ•°éƒ¨åˆ†ç»„æˆã€‚
0xff	--&gt; 2550x1A3	--&gt; 4190x0.2	--&gt; 0.1250x1p-1	--&gt; 0.5(påé¢çš„æ•°å­—è¡¨ç¤º2çš„å¹‚æ¬¡)0xa.bp2	--&gt; 42.75 å¯ä»¥ä½¿ç”¨%aå‚æ•°ï¼Œé€šè¿‡å‡½æ•°string.formatæœ€è¿™ç§æ ¼å¼è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºï¼š
string.format(&#34;%a&#34;,419)	--&gt; 0x1.a3p&#43;8string.format(&#34;%a&#34;,0.1)	--&gt; 0x1.999999999999ap-4 è™½ç„¶éš¾ä»¥é˜…è¯»ï¼Œä½†æ˜¯å¯ä»¥ä¿ç•™æ‰€æœ‰æµ®ç‚¹æ•°çš„ç²¾åº¦ï¼Œå¹¶ä¸”æ¯”åè¿›åˆ¶çš„è½¬æ¢é€Ÿåº¦æ›´å¿«ã€‚
3.2 ç®—æœ¯è¿ç®— é™¤äº†åŠ ã€å‡ã€ä¹˜ã€é™¤ã€å–è´Ÿæ•°ï¼ˆå•ç›®å‡æ³•ï¼‰ç­‰ï¼Œè¿˜æ”¯æŒå–æ•´é™¤æ³•ï¼ˆflooré™¤æ³•ï¼‰ï¼Œå–æ¨¡å’ŒæŒ‡æ•°è¿ç®—ã€‚
å½“æ“ä½œæ•°ä¸€ä¸ªæ˜¯æ•´å‹å€¼ä¸€ä¸ªæ˜¯æµ®ç‚¹å‹å€¼æ—¶ï¼ŒLuaè¯­è¨€ä¼šåœ¨è¿›è¡Œç®—æœ¯è¿ç®—å‰å…ˆå°†æ•´å‹å€¼è½¬æ¢ä¸ºæµ®ç‚¹å‹å€¼ï¼š
13.0 &#43; 25	--&gt; 38.0-(3 * 6.0)	--&gt; -18.0 ç”±äºä¸¤ä¸ªæ•´æ•°ç›¸é™¤çš„ç»“æœä¸ä¸€å®šæ—¶æ•´é™¤ï¼Œå› æ­¤è§¦å‘ä¸éµå¾ªæ•´å‹å€¼å’Œæ•´å‹å€¼è¿›è¡Œç®—æœ¯è¿ç®—çš„ç»“æœä¾ç„¶æ˜¯æ•´å‹å€¼ï¼Œä¸ºäº†é¿å…ä¸¤ä¸ªæ•´å‹å€¼ç›¸é™¤å’Œä¸¤ä¸ªæµ®ç‚¹å‹å€¼ç›¸é™¤å¯¼è‡´ä¸ä¸€æ ·çš„ç»“æœï¼Œé™¤æ³•è¿ç®—æ“ä½œçš„æ°¸è¿œæ˜¯æµ®ç‚¹æ•°ä¸”äº§ç”Ÿæµ®ç‚¹å‹å€¼çš„ç»“æœï¼š
" />
  <meta property="og:locale" content="cn" /><meta property="og:image" content="/favicon.png" />
  

  
    <style>@import '/fonts/lxgw-wenkai-screen-webfont/style.css';body{font-family:lxgw wenkai screen,sans-serif;-webkit-font-smoothing:antialiased;margin:0 20px}article{max-width:800px;margin-left:auto;margin-right:auto}a{color:#000;text-decoration:none!important}a:hover{text-decoration:underline!important}table{width:100%;border-collapse:collapse;border:2px solid #000}th,td{text-align:center;vertical-align:middle;border:2px solid #000;padding:10px}p{}details{background-color:#f0f0f0;border:0 solid #1e90ff;border-radius:20px;padding:10px}details[open]{background-color:#f0f0f0}summary{font-size:20px;font-weight:700;color:#000;cursor:pointer;transition:color .3s ease}summary:hover{color:#ff4500}.highlight{position:relative}button{appearance:auto;text-rendering:auto;color:buttontext;letter-spacing:normal;word-spacing:normal;line-height:normal;text-transform:none;text-indent:0;text-shadow:none;display:inline-block;text-align:center;align-items:flex-start;cursor:default;box-sizing:border-box;background-color:buttonface;margin:0;padding-block:1px;padding-inline:6px;border-width:2px;border-style:outset;border-color:buttonborder;border-image:initial}.copy-button{display:none;position:absolute;top:10px;right:10px;padding:5px 10px;font-size:.8em;color:#fff;background-color:#008b8b;border:none;border-radius:4px;box-shadow:0 2px 5px rgba(0,0,0,.2);transition:background-color .3s ease}.copy-button:hover{background-color:#cd3bee}.highlight:hover .copy-button{display:inline-block}.post-ads{color:#00f;margin:50px 0}.markdown-body{font-size:18px;max-width:100%}.markdown-body a{text-decoration:underline;text-decoration-color:#000}.markdown-body blockquote{margin:0;padding:0 1em;color:#57606a;border-left:.25em solid #d0d7de}.markdown-body pre{padding:16px;overflow:auto;border-radius:10px}.markdown-body code{padding:.2em .4em;font-size:85%;background-color:#f6f8fa;border-radius:6px}.markdown-body pre>code{padding:0;font-size:100%;background-color:inherit;border:0}.Chinese .markdown-body{line-height:200%}.header-main{display:flex;padding:5px 0;justify-content:flex-start}.header-avatar img{width:113px;height:125px;border-radius:50%;margin-right:10px}.site-date-catalog{font-family:lxgw wenkai screen,sans-serif;font-size:2rem;color:blue}.header-title{font-family:lxgw wenkai screen,sans-serif;font-size:2rem;font-weight:700;margin-top:32px}.header-title a{text-decoration:none}.header-subtitle{color:#c557a2;font-size:1.3rem;font-weight:700}.header-items{margin:5px 0}.header-item{margin:0 5px}.header-line{width:100%;border-width:2px;border-color:#482936;border-style:solid none none none}.header-content{display:flex;align-items:center}.lang-switch{font-weight:900}#posts-list{min-height:600px}.posts-line{font-size:1.2rem;margin:12px 0}.posts-categories{font-size:.8rem;margin:auto;text-align:center}.posts-category{padding:3px 0;border:#000 2px solid;border-radius:5px}.site-footer{margin-top:50px}.site-footer-item{margin-right:12px}pre{background-color:#f5f2f0;padding:5px;font-family:lxgw wenkai screen,sans-serif;font-size:18px;margin-bottom:18px margin-left:0px margin-right:0px margin-top:18px padding-top:16px padding-bottom:16px padding-left:16px padding-right:16px white-space:pre-wrap;word-wrap:break-word;overflow-x:auto;overflow-y:auto;-webkit-font-smoothing:antialiased}code{font-family:Consolas,Monaco,andale mono,ubuntu mono,monospace}.post-header{margin-bottom:50px;font-weight:900}.post-title{font-size:2rem;font-weight:900}.post-tags{display:inline;font-weight:900;padding:2px 5px;margin-right:6px;border:#000 2px solid;border-radius:5px}.post-date{font-weight:900;font-style:italic}.post-author{float:right;font-weight:900}.page-content{min-height:60%}.post-content{margin-bottom:50px}.post-content p{hyphens:auto;line-height:1.8;text-justify:ideographic;margin-bottom:1em}.post-content img{max-width:100%;display:block;margin-right:auto;margin-top:6px}.post-content .post-gallery{display:flex;flex-wrap:wrap;gap:6px}.post-content .post-gallery img{margin-right:auto;margin-top:auto;width:calc(50% - 3px)}.related-content{border-width:3px;border-style:solid;border-color:#000;padding:0 10px;margin-bottom:50px;margin-top:100px}.related-content li{margin:5px 0}.taxonomy-term{font-size:3rem}.gallery-img{text-align:center}.gallery-img span{text-align:center}.gallery-img-desc{font-size:.8em;font-weight:800}#disqus_thread{position:relative}#disqus_thread:after{content:"";display:block;height:55px;width:100%;position:absolute;bottom:0;background:#fff}@media screen and (max-width:600px){.header-title,.header-subtitle,.header-items{}.posts-line{font-size:16px}.markdown-body{font-size:18px;max-width:100%}.post-title{font-size:2rem;font-weight:900}.post-content p{letter-spacing:.05em}.post-content .post-gallery img{width:100%}}@media screen and (max-width:48em){.posts-category{display:none}}.language-css.token.string,.style.token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:0 0!important}</style>
  
  
    <style>.container,.container-fluid{margin-right:auto;margin-left:auto}.container-fluid{padding-right:2rem;padding-left:2rem}.row{box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:initial;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-.5rem;margin-left:-.5rem}.row.reverse{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.col.reverse{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.col-xs,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-offset-0,.col-xs-offset-1,.col-xs-offset-10,.col-xs-offset-11,.col-xs-offset-12,.col-xs-offset-2,.col-xs-offset-3,.col-xs-offset-4,.col-xs-offset-5,.col-xs-offset-6,.col-xs-offset-7,.col-xs-offset-8,.col-xs-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-xs{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-xs-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-xs-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-xs-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-xs-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-xs-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-xs-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-xs-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-xs-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-xs-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-xs-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-xs-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-xs-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-xs-offset-0{margin-left:0}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-11{margin-left:91.66666667%}.start-xs{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-xs{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-xs{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-xs{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-xs{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-xs{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-xs{-ms-flex-pack:distribute;justify-content:space-around}.between-xs{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-xs{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-xs{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}@media only screen and (min-width:48em){.container{width:49rem}.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-offset-0,.col-sm-offset-1,.col-sm-offset-10,.col-sm-offset-11,.col-sm-offset-12,.col-sm-offset-2,.col-sm-offset-3,.col-sm-offset-4,.col-sm-offset-5,.col-sm-offset-6,.col-sm-offset-7,.col-sm-offset-8,.col-sm-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-sm{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-sm-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-sm-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-sm-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-sm-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-sm-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-sm-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-sm-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-sm-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-sm-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-sm-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-sm-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-sm-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-sm-offset-0{margin-left:0}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-11{margin-left:91.66666667%}.start-sm{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-sm{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-sm{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-sm{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-sm{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-sm{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-sm{-ms-flex-pack:distribute;justify-content:space-around}.between-sm{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-sm{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-sm{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:64em){.container{width:65rem}.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-offset-0,.col-md-offset-1,.col-md-offset-10,.col-md-offset-11,.col-md-offset-12,.col-md-offset-2,.col-md-offset-3,.col-md-offset-4,.col-md-offset-5,.col-md-offset-6,.col-md-offset-7,.col-md-offset-8,.col-md-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-md{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-md-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-md-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-md-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-md-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-md-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-md-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-md-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-md-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-md-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-md-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-md-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-md-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-md-offset-0{margin-left:0}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-3{margin-left:25%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-6{margin-left:50%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-9{margin-left:75%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-11{margin-left:91.66666667%}.start-md{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-md{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-md{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-md{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-md{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-md{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-md{-ms-flex-pack:distribute;justify-content:space-around}.between-md{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-md{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-md{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:75em){.container{width:76rem}.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-offset-0,.col-lg-offset-1,.col-lg-offset-10,.col-lg-offset-11,.col-lg-offset-12,.col-lg-offset-2,.col-lg-offset-3,.col-lg-offset-4,.col-lg-offset-5,.col-lg-offset-6,.col-lg-offset-7,.col-lg-offset-8,.col-lg-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-lg{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-lg-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-lg-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-lg-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-lg-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-lg-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-lg-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-lg-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-lg-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-lg-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-lg-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-lg-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-lg-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-lg-offset-0{margin-left:0}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-11{margin-left:91.66666667%}.start-lg{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-lg{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-lg{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-lg{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-lg{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-lg{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-lg{-ms-flex-pack:distribute;justify-content:space-around}.between-lg{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-lg{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-lg{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}</style>
  

  

  <link href="/index.xml" rel="alternate" type="application/rss+xml"
    title="å­æ˜¥å»¿ä¸€">
  
  
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<script>
  function addDarkmodeWidget() {
    new Darkmode().showWidget();
  }
  window.addEventListener('load', addDarkmodeWidget);
</script>

  
  
</head>


<body>
  <article class="post Chinese" id="article">
    <div class="row">
      <div class="col-xs-12">
        <div class="site-header">
          
<header class="header-main">
	<div class="header-content">
		<div class="header-avatar">
		<img src="/%e5%a4%b4%e5%83%8f.jpg" />
		</div>
		<div class="header-title">
			<a href="/">å­æ˜¥å»¿ä¸€</a>
			<div class="header-subtitle">ä¸­æ„èƒ¡æ¢“æ‚¦å¤§ç‹ğŸ’–</div> 
		</div>
	</div>
</header>
<div class="row end-md header-items">
  
  <div class="header-item">
    <a href="/categories/index.html" >åˆ†ç±»</a>
  </div>
  
</div>
<div class="row">
   
</div>
<div class="header-line"></div>

        </div>
        <header class="post-header">
          <h1 class="post-title">Luaå­¦ä¹ ç¬”è®°ä¸¨03æ•°å€¼</h1>
          
          <div class="row post-desc">
            <div class="col-xs-6">
              
              <time class="post-date" datetime="2025-01-03 00:00:00 UTC">
                03 Jan 2025
              </time>
              
            </div>
            <div class="col-xs-6">
              
            </div>
          </div>
          
        </header>

        <div class="post-content markdown-body">
          
          <h2 id="31-æ•°å€¼å¸¸é‡">3.1 æ•°å€¼å¸¸é‡</h2>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç§‘å­¦æŠ€æœ¯æ³•ï¼ˆä¸€ä¸ªå¯é€‰çš„åè¿›åˆ¶éƒ¨åˆ†å¤–åŠ ä¸€ä¸ªå¯é€‰çš„åè¿›åˆ¶æŒ‡æ•°éƒ¨åˆ†ï¼‰ä¹¦å†™æ•°å€¼å¸¸é‡ï¼Œä¾‹å¦‚ï¼š</p>
<pre tabindex="0"><code>4.77e-3		--&gt; 0.00477
0.3e12		--&gt; 300000000000.0
4e+3		--&gt; 4000.0
5E+20		--&gt; 5e+020
</code></pre><p>å…·æœ‰åè¿›åˆ¶å°æ•°æˆ–è€…æŒ‡æ•°çš„æ•°å€¼ä¼šè¢«å½“åšæµ®ç‚¹ç±»å‹å€¼ï¼Œå¦åˆ™ä¼šè¢«å½“ä½œæ•´å‹å€¼ã€‚</p>
<p>ç”±äºæ•´å‹å€¼å’Œæµ®ç‚¹å‹å€¼çš„ç±»å‹éƒ½æ˜¯&quot;number&quot;ï¼Œæ‰€ä»¥å®ƒä»¬æ˜¯å¯ä»¥ç›¸äº’è½¬åŒ–çš„ã€‚åŒæ—¶ï¼Œå…·æœ‰ç›¸åŒç®—æœ¯å€¼çš„æ•´å‹å€¼å’Œæµ®ç‚¹ç±»å‹å€¼åœ¨Luaè¯­è¨€ä¸­æ˜¯ç›¸ç­‰çš„ï¼š</p>
<pre tabindex="0"><code>1 == 1.0		--&gt; true
-3 == -3.0		--&gt; true
0.2e3 == 200		--&gt; true
</code></pre><p>åœ¨å°‘æ•°æƒ…å†µä¸‹ï¼Œéœ€è¦åŒºåˆ†æ•´å‹å€¼å’Œæµ®ç‚¹å‹å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨math.typeï¼š</p>
<pre tabindex="0"><code>math.type(3)		--&gt; integer
math.type(3.0)		--&gt; float
</code></pre><p>Luaè¯­è¨€ä¹Ÿæ”¯æŒä»¥0xå¼€å¤´çš„åå…­è¿›åˆ¶å¸¸é‡ã€‚ä¸å…¶å®ƒè¯­è¨€ä¸åŒçš„æ˜¯ï¼ŒLuaè¿˜æ”¯æŒåå…­è¿›åˆ¶çš„æµ®ç‚¹æ•°ï¼Œè¿™ç§åå…­è¿›åˆ¶æµ®ç‚¹æ•°ä»¥pæˆ–På¼€å¤´çš„æŒ‡æ•°éƒ¨åˆ†ç»„æˆã€‚</p>
<pre tabindex="0"><code>0xff		--&gt; 255
0x1A3		--&gt; 419
0x0.2		--&gt; 0.125
0x1p-1		--&gt; 0.5(påé¢çš„æ•°å­—è¡¨ç¤º2çš„å¹‚æ¬¡)
0xa.bp2		--&gt; 42.75
</code></pre><p>å¯ä»¥ä½¿ç”¨%aå‚æ•°ï¼Œé€šè¿‡å‡½æ•°string.formatæœ€è¿™ç§æ ¼å¼è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºï¼š</p>
<pre tabindex="0"><code>string.format(&#34;%a&#34;,419)		--&gt; 0x1.a3p+8
string.format(&#34;%a&#34;,0.1)		--&gt; 0x1.999999999999ap-4
</code></pre><p>è™½ç„¶éš¾ä»¥é˜…è¯»ï¼Œä½†æ˜¯å¯ä»¥ä¿ç•™æ‰€æœ‰æµ®ç‚¹æ•°çš„ç²¾åº¦ï¼Œå¹¶ä¸”æ¯”åè¿›åˆ¶çš„è½¬æ¢é€Ÿåº¦æ›´å¿«ã€‚</p>
<h2 id="32-ç®—æœ¯è¿ç®—">3.2 ç®—æœ¯è¿ç®—</h2>
<p>é™¤äº†åŠ ã€å‡ã€ä¹˜ã€é™¤ã€å–è´Ÿæ•°ï¼ˆå•ç›®å‡æ³•ï¼‰ç­‰ï¼Œè¿˜æ”¯æŒå–æ•´é™¤æ³•ï¼ˆflooré™¤æ³•ï¼‰ï¼Œå–æ¨¡å’ŒæŒ‡æ•°è¿ç®—ã€‚</p>
<p>å½“æ“ä½œæ•°ä¸€ä¸ªæ˜¯æ•´å‹å€¼ä¸€ä¸ªæ˜¯æµ®ç‚¹å‹å€¼æ—¶ï¼ŒLuaè¯­è¨€ä¼šåœ¨è¿›è¡Œç®—æœ¯è¿ç®—å‰å…ˆå°†æ•´å‹å€¼è½¬æ¢ä¸ºæµ®ç‚¹å‹å€¼ï¼š</p>
<pre tabindex="0"><code>13.0 + 25		--&gt; 38.0
-(3 * 6.0)		--&gt; -18.0
</code></pre><p>ç”±äºä¸¤ä¸ªæ•´æ•°ç›¸é™¤çš„ç»“æœä¸ä¸€å®šæ—¶æ•´é™¤ï¼Œå› æ­¤è§¦å‘ä¸éµå¾ªæ•´å‹å€¼å’Œæ•´å‹å€¼è¿›è¡Œç®—æœ¯è¿ç®—çš„ç»“æœä¾ç„¶æ˜¯æ•´å‹å€¼ï¼Œä¸ºäº†é¿å…ä¸¤ä¸ªæ•´å‹å€¼ç›¸é™¤å’Œä¸¤ä¸ªæµ®ç‚¹å‹å€¼ç›¸é™¤å¯¼è‡´ä¸ä¸€æ ·çš„ç»“æœï¼Œé™¤æ³•è¿ç®—æ“ä½œçš„æ°¸è¿œæ˜¯æµ®ç‚¹æ•°ä¸”äº§ç”Ÿæµ®ç‚¹å‹å€¼çš„ç»“æœï¼š</p>
<pre tabindex="0"><code>3.0 / 2.0	--&gt; 1.5
3 / 2		--&gt; 1.5
4 / 2		--&gt; 2.0
</code></pre><p>Lua5.3é’ˆå¯¹æ•´æ•°é™¤æ³•å¼•å…¥äº†ä¸€ä¸ªç§°ä¸ºfloorçš„æ–°ç®—æœ¯è¿ç®—ç¬¦//ã€‚flooré™¤æ³•ä¼šå¯¹å¾—åˆ°çš„å•†å‘è´Ÿæ— ç©·å–æ•´ï¼Œä»è€Œä¿è¯ç»“æœæ˜¯ä¸€ä¸ªæ•´æ•°ã€‚å°±å¯ä»¥ä¸å…¶ä»–ç®—æœ¯è¿ç®—éµå¾ªåŒæ ·çš„è§„åˆ™ï¼šå¦‚æœæ“ä½œæ•°éƒ½æ˜¯æ•´å‹ï¼Œç»“æœå°±æ˜¯æ•´å‹å€¼ï¼Œå¦åˆ™å°±æ˜¯æµ®ç‚¹å‹å€¼ã€‚</p>
<pre tabindex="0"><code>3 // 2		--&gt; 1
3.0 // 2	--&gt; 1.0
4 // 2		--&gt; 2
-9 // 2		--&gt; -5
</code></pre><p>ä»¥ä¸‹å…¬å¼æ˜¯å–æ¨¡è¿ç®—çš„å®šä¹‰ï¼š</p>
<p>a % b = a - ((a // b) * b)</p>
<p>å¯¹äºå®æ•°ç±»å‹çš„æ“ä½œæ•°ï¼Œå–æ¨¡è¿ç®—æœ‰ä¸€äº›ä¸åŒç‚¹ã€‚ä¾‹å¦‚ï¼Œx-x%0.01æ°å¥½æ˜¯xä¿ç•™ä¸¤ä½å°æ•°çš„ç»“æœï¼Œx-x%0.001æ°å¥½æ˜¯xä¿ç•™ä¸‰ä½å°æ•°çš„ç»“æœï¼š</p>
<pre tabindex="0"><code>x = math.pi
x - x % 0.01	--&gt; 3.14
x - x % 0.001	--&gt; 3.141
</code></pre><p>è¡¨è¾¾å¼angle % (2 * math.pi)å®ç°å°†ä»»æ„å¼§åº¦å½’ä¸€åŒ–åˆ°ï¼ˆ0ï¼Œ2Ï€ï¼‰</p>
<p>Luaè¯­è¨€åŒæ ·æ”¯æŒå¹‚è¿ç®—ï¼Œä½¿ç”¨ç¬¦å·^è¡¨ç¤ºã€‚åƒé™¤æ³•ä¸€æ ·ï¼Œå¹‚è¿ç®—çš„æ“ä½œæ•°ä¹Ÿæ°¸è¿œæ˜¯æµ®ç‚¹å‹å€¼ã€‚</p>
<pre tabindex="0"><code>2^2	--&gt; 4.0
4^0.5	--&gt; 2.0
8^0.5   --&gt; 2.8284271247462
</code></pre><h2 id="33-å…³ç³»è¿ç®—">3.3 å…³ç³»è¿ç®—</h2>
<p>Luaè¯­è¨€æä¾›äº†ä¸‹åˆ—å…³ç³»è¿ç®—ï¼š</p>
<p>&lt;Â Â Â Â Â Â &gt;Â Â Â Â Â Â &lt;=Â Â Â Â Â Â &gt;=Â Â Â Â Â Â ==Â Â Â Â Â Â ~=</p>
<p>è¿™äº›å…³ç³»è¿ç®—çš„ç»“æœéƒ½æ˜¯Booleanç±»å‹</p>
<p>==ç”¨äºç›¸ç­‰æ€§æµ‹è¯•ï¼Œ~=ç”¨äºä¸ç­‰æ€§æµ‹è¯•ã€‚è¿™ä¸¤ä¸ªè¿ç®—ç¬¦å¯ä»¥ç”¨äºä»»æ„ä¸¤ä¸ªå€¼ï¼Œå½“è¿™ä¸¤ä¸ªå€¼ç±»å‹ä¸åŒæ—¶ï¼ŒLuaè¯­è¨€è®¤ä¸ºå®ƒä»¬ä¸ç›¸ç­‰ï¼›å¦åˆ™ï¼Œä¼šæ ¹æ®ä»–ä»¬çš„ç±»å‹å†å¯¹ä¸¤è€…è¿›è¡Œæ¯”è¾ƒã€‚</p>
<p>æ¯”è¾ƒæ•°å€¼æ—¶åº”æ°¸è¿œå¿½ç•¥æ•°å€¼çš„å­ç±»å‹ï¼Œåªä¸ç®—æ•°å€¼æœ‰å…³ï¼ˆå°½ç®¡å¦‚æ­¤ï¼Œæ¯”è¾ƒå…·æœ‰ç›¸åŒå­ç±»å‹çš„æ•°å€¼æ—¶æ•ˆç‡æ›´é«˜ï¼‰ã€‚</p>
<h2 id="34-æ•°å­¦åº“">3.4 æ•°å­¦åº“</h2>
<p>Luaè¯­è¨€æä¾›äº†æ ‡å‡†æ•°å­¦åº“mathã€‚æ ‡å‡†æ•°å­¦åº“ç”±ä¸€ç»„æ ‡å‡†çš„æ•°å­¦å‡½æ•°ç»„æˆï¼ŒåŒ…æ‹¬ä¸‰è§’å‡½æ•°ï¼ˆsinã€cosã€tanã€asinç­‰ï¼‰ã€æŒ‡æ•°å‡½æ•°ã€å–æ•´å‡½æ•°ã€æœ€å¤§å’Œæœ€å°å‡½æ•°maxå’Œminã€ç”¨äºç”Ÿæˆä¼ªéšæœºæ•°çš„ä¸ºéšæœºå‡½æ•°ï¼ˆrandomï¼‰ä»¥åŠå¸¸é‡piå’Œhugeï¼ˆæœ€å¤§å¯è¡¨ç¤ºå€¼ï¼Œåœ¨å¤§å¤šæ•°å¹³å°ä¸Šä»£è¡¨infï¼‰ã€‚</p>
<p>æ‰€æœ‰çš„ä¸‰è§’å‡½æ•°éƒ½ä»¥å¼§åº¦ä¸ºå•ä½ï¼Œå¹¶é€šè¿‡å‡½æ•°degå’Œradè¿›è¡Œè§’åº¦å’Œå¼§åº¦çš„è½¬æ¢ã€‚</p>
<h3 id="341-éšæœºæ•°å‘ç”Ÿå™¨">3.4.1 éšæœºæ•°å‘ç”Ÿå™¨</h3>
<p>å‡½æ•°math.randomç”¨äºç”Ÿæˆä¼ªéšæœºæ•°ï¼Œå…±æœ‰ä¸‰ç§è°ƒç”¨æ–¹å¼ã€‚å½“ä¸å¸¦å‚æ•°è°ƒç”¨æ—¶ï¼Œå®ƒè¿”å›ä¸€ä¸ªåœ¨[0,1)èŒƒå›´å†…å‡åŒ€åˆ†å¸ƒçš„ä¼ªéšæœºå®æ•°ã€‚å½“ä½¿ç”¨å¸¦æœ‰ä¸€ä¸ªæ•´å‹å€¼nçš„å‚æ•°è°ƒç”¨æ—¶ï¼Œå®ƒè¿”å›ä¸€ä¸ª[1,n]èŒƒå›´å†…çš„ä¼ªéšæœº<strong>æ•´æ•°</strong>ã€‚å½“ä½¿ç”¨å¸¦æœ‰ä¸¤ä¸ªæ•´å‹å€¼lå’Œuçš„å‚æ•°æ—¶ï¼Œè¿”å›åœ¨[l,u]èŒƒå›´å†…çš„ä¼ªéšæœºæ•´æ•°ã€‚</p>
<p>å‡½æ•°randomseedç”¨äºè®¾ç½®ä¼ªéšæœºæ•°å‘ç”Ÿå™¨çš„ç§å­ã€‚è¯¥å‡½æ•°çš„å”¯ä¸€å‚æ•°æ˜¯æ•°å€¼ç±»å‹çš„ç§å­ã€‚ä¸€ä¸ªç¨‹åºå¯åŠ¨æ—¶ï¼Œç³»ç»Ÿå›ºå®šä½¿ç”¨1ä¸ºç§å­ã€‚å¦‚æœä¸è®¾ç½®å…¶ä»–ç§å­ï¼Œé‚£ä¹ˆæ¯æ¬¡ç¨‹åºéƒ½ä¼šç”Ÿæˆç›¸åŒçš„ä¼ªéšæœºæ•°åºåˆ—ã€‚æ–¹ä¾¿è°ƒè¯•ï¼Œä½†æ˜¯ä¼šå¯¼è‡´æ¸¸æˆç”Ÿæˆé‡å¤å†…å®¹ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé€šå¸¸è°ƒç”¨math.randomseed(os.time())æ¥ä½¿ç”¨å½“å‰ç³»ç»Ÿæ—¶é—´ä½œä¸ºç§å­åˆå§‹åŒ–ï¼ˆos.timeä¼šåœ¨åç»­ä»‹ç»ï¼‰ã€‚</p>
<h3 id="342-å–æ•´å‡½æ•°">3.4.2 å–æ•´å‡½æ•°</h3>
<p>æä¾›äº†ä¸‰ä¸ªå–æ•´å‡½æ•°ï¼šfloorã€ceilå’Œmodfã€‚å…¶ä¸­ï¼Œfloorå‘è´Ÿæ— ç©·å–æ•´ï¼Œceilå‘æ­£æ— ç©·å–æ•´ï¼Œmodfå‘é›¶å–æ•´ã€‚å½“å–æ•´ç»“æœèƒ½ç”¨æ•´å‹è¡¨ç¤ºæ—¶ï¼Œè¿”å›ç»“æœä¸ºæ•´å‹å€¼ï¼Œå¦åˆ™è¿”å›æµ®ç‚¹å‹å€¼ï¼ˆè¡¨ç¤ºçš„æ˜¯æ•´å‹å€¼ï¼‰ã€‚é™¤äº†è¿”å›å–æ•´åçš„å€¼ä»¥å¤–ï¼Œå‡½æ•°modfè¿˜ä¼šè¿”å›å°æ•°éƒ¨åˆ†ä½œä¸ºç¬¬äºŒä¸ªç»“æœã€‚</p>
<pre tabindex="0"><code>math.floor(3.3)		--&gt; 3
math.floor(-3.3)	--&gt; -4
math.ceil(3.3)		--&gt; 4
math.ceil(-3.3)		--&gt; -3
math.modf(3.3)		--&gt; 3	0.3
math.modf(-3.3)		--&gt; -3	-0.3
math.floor(2^70)	--&gt; 1.1805916207174e+21
</code></pre><p>å¦‚æœæƒ³å°†æ•°å€¼xå‘æœ€è¿‘çš„æ•´æ•°å–æ•´ï¼Œå¯ä»¥å¯¹x+0.5è°ƒç”¨floorå‡½æ•°ã€‚ä¸è¿‡å½“xå¾ˆå¤§æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">^</span><span style="color:#ae81ff">52</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>print(string.format(<span style="color:#e6db74">&#34;%d %d&#34;</span>, x, math.floor(x <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.5</span>)))
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">--&gt; 4503599627370497 4503599627370498</span>
</span></span></code></pre></div><p>å› ä¸º2^52 + 1.5çš„æµ®ç‚¹å€¼è¡¨ç¤ºæ˜¯ä¸ç²¾ç¡®çš„ï¼Œå› æ­¤å†…éƒ¨ä¼šä»¥æˆ‘ä»¬ä¸å¯æ§çš„æ–¹å¼å–æ•´ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å•ç‹¬åœ°å¤„ç†æ•°å€¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">round</span> (x)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">local</span> f <span style="color:#f92672">=</span> math.floor(x)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> x <span style="color:#f92672">==</span> f <span style="color:#66d9ef">then</span> <span style="color:#66d9ef">return</span> f
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">return</span> math.floor(x <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.5</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>ä¸Šè¿°ä»£ç å…¶å®æ˜¯è¾¾åˆ°äº†ä¸€ä¸ªå››èˆäº”å…¥åè¿”å›ä¸€ä¸ªæ•´æ•°çš„æ•ˆæœï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³å¯¹åŠä¸ªæ•´æ•°è¿›è¡Œæ— åå–æ•´ï¼ˆunbiased roundingï¼‰ï¼Œå³å‘è·ç¦»æœ€è¿‘çš„å¶æ•°å–æ•´åŠä¸ªæ•´æ•°ï¼Œåœ¨x + 0.5æ˜¯å¥‡æ•°çš„æƒ…å†µä¸‹ä¸æˆç«‹ï¼š</p>
<pre tabindex="0"><code>math.floor(3.5 + 0.5)		--&gt; 4
math.floor(2.5 + 0.5)		--&gt; 3(æœŸå¾…2)
</code></pre><p>å¯ä»¥ä¿®æ”¹ä¸ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">round</span> (x)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">local</span> f <span style="color:#f92672">=</span> math.floor(x)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> (x <span style="color:#f92672">==</span> f) <span style="color:#f92672">or</span> (x <span style="color:#f92672">%</span> <span style="color:#ae81ff">2.0</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#66d9ef">then</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> f
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">else</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> math.floor(x <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.5</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h2 id="35-è¡¨ç¤ºèŒƒå›´">3.5 è¡¨ç¤ºèŒƒå›´</h2>
<p>æ ‡å‡†Luaä½¿ç”¨64ä¸ªæ¯”ç‰¹ä½æ¥å­˜å‚¨æ•´å‹å€¼ï¼Œå…¶æœ€å¤§å€¼ä¸º2<sup>63</sup> - 1ï¼Œçº¦ç­‰äº10<sup>19</sup>ï¼›ç²¾ç®€Luaä½¿ç”¨32ä¸ªæ¯”ç‰¹ä½æ¥å­˜å‚¨æ•´å‹å€¼ï¼Œå…¶æœ€å¤§å€¼çº¦ä¸º20äº¿ã€‚æ•°å­¦åº“ä¸­çš„å¸¸é‡å®šä¹‰äº†æ•´å‹å€¼çš„æœ€å¤§å€¼ï¼ˆmath.maxintegerï¼‰å’Œæœ€å°å€¼ï¼ˆmath.minintegerï¼‰ã€‚</p>
<p>ä»¥ä¸‹è¡Œä¸ºå¯¹æ‰€æœ‰æ¶‰åŠæ•´å‹å€¼çš„ç®—æœ¯è¿ç®—éƒ½æ˜¯ä¸€è‡´ä¸”å¯é¢„æµ‹çš„ï¼š</p>
<pre tabindex="0"><code>math.maxinteger + 1 == math.mininteger		--&gt; true
math.mininteger - 1 == math.maxinteger		--&gt; true
-math.mininteger == math.mininteger		--&gt; true
math.mininteger // -1 == math.mininteger	--&gt; true
</code></pre><p>å¯¹äºæµ®ç‚¹æ•°ï¼Œæ ‡å‡†Luaä½¿ç”¨åŒç²¾åº¦64ä¸ªæ¯”ç‰¹ä½è¡¨ç¤ºï¼Œå…¶ä¸­11ä½ä¸ºæŒ‡æ•°ï¼›ç²¾ç®€Luaä½¿ç”¨32ä¸ªæ¯”ç‰¹ä½æ¥è¡¨ç¤ºå•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œæœ‰8ä½ä¸ºæŒ‡æ•°ã€‚åŒç²¾åº¦å¯¹äºå¤§å¤šæ•°å®é™…åº”ç”¨æ˜¯è¶³å¤Ÿå¤§çš„ï¼Œä½†æ˜¯å­˜åœ¨ç²¾åº¦é™åˆ¶ã€‚</p>
<p>ç”±äºæ•´å‹å€¼å’Œæµ®ç‚¹å‹å€¼çš„è¡¨ç¤ºèŒƒå›´ä¸åŒï¼Œå½“è¶…è¿‡ä»–ä»¬çš„è¡¨ç¤ºèŒƒå›´æ—¶ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœï¼š</p>
<pre tabindex="0"><code>math.maxinteger + 2		--&gt; -9223372036854775807
math.maxinteger + 2.0		--&gt; 9.2233720368548e+18
</code></pre><p>ç¬¬ä¸€è¡Œç”±äºæ•´å‹å€¼å‘ç”Ÿæº¢å‡ºå¯¼è‡´è®¡ç®—ç»“æœé”™è¯¯ï¼Œç¬¬äºŒè¡Œç”±äºæµ®ç‚¹æ•°ç²¾åº¦æœ‰é™å¯¼è‡´å–è¿‘ä¼¼å€¼ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ¯”è¾ƒè¿ç®—è¯æ˜ï¼š</p>
<pre tabindex="0"><code>math.maxinteger + 2.0 == math.maxinteger + 1.0	--&gt; true
</code></pre><p>åªæœ‰æµ®ç‚¹å‹æ‰èƒ½è¡¨ç¤ºå°æ•°ã€‚æµ®ç‚¹å‹å€¼å¯ä»¥è¡¨ç¤ºå¾ˆå¤§çš„èŒƒå›´ï¼Œä½†æ˜¯æµ®ç‚¹å‹å€¼èƒ½å¤Ÿè¡¨ç¤ºçš„æ•´æ•°èŒƒå›´è¢«ç²¾ç¡®åœ°é™åˆ¶åœ¨[-2<sup>53</sup>,2<sup>53</sup>]ä¹‹é—´ã€‚ç”±äºåŒ…å«52ä½å°¾æ•°+éšå«çš„1ä½å‰å¯¼ä½ï¼Œå…±53ä½äºŒè¿›åˆ¶æœ‰æ•ˆä½ã€‚å› æ­¤ï¼Œå°äºæˆ–ç­‰äº2<sup>53</sup>çš„æ•´æ•°å¯ä»¥è¢«ç²¾ç¡®è¡¨ç¤ºï¼Œä½†å¤§äº2<sup>53</sup>çš„æ•´æ•°æ— æ³•ç²¾ç¡®è¡¨ç¤ºã€‚åœ¨è¿™ä¸ªèŒƒå›´å†…å¯ä»¥å¿½ç•¥æ•´å‹å’Œæµ®ç‚¹å‹çš„åŒºåˆ«ï¼Œè¶…è¿‡åˆ™åº”è¯¥è°¨æ…åœ°æ€è€ƒã€‚</p>
<h2 id="36-æƒ¯ä¾‹">3.6 æƒ¯ä¾‹</h2>
<p>æˆ‘ä»¬å¯ä»¥ç®€å•åœ°é€šè¿‡åŠ 0.0çš„æ–¹å¼å°†æ•´å½¢å¼ºåˆ¶è½¬æ¢ä¸ºæµ®ç‚¹å‹å€¼ï¼Œä¸€ä¸ªæ•´å‹å€¼æ€»æ˜¯å¯ä»¥è¢«è½¬æ¢æˆæµ®ç‚¹å‹å€¼ã€‚ä½†æ˜¯å¯¹äºä¸åœ¨[-2<sup>53</sup>,2<sup>53</sup>]åŒºé—´å†…çš„æ•´å‹å€¼åœ¨è½¬æ¢æˆæµ®ç‚¹å‹å€¼æ—¶å¯èƒ½å¯¼è‡´ç²¾åº¦æŸå¤±ã€‚</p>
<p>é€šè¿‡ä¸é›¶è¿›è¡ŒæŒ‰ä½æˆ–è¿ç®—ï¼Œå¯ä»¥æŠŠæµ®ç‚¹å‹å€¼å¼ºåˆ¶è½¬åŒ–ä¸ºæ•´å‹å€¼ï¼š</p>
<pre tabindex="0"><code>2^53			--&gt; 9.007199254741e+015
2^53 | 0		--&gt; 9007199254740992
</code></pre><p>åœ¨å°†æµ®ç‚¹å‹å€¼å¼ºåˆ¶è½¬åŒ–ä¸ºæ•´å‹å€¼æ—¶ï¼ŒLuaè¯­è¨€ä¼šæ£€æŸ¥æ•°å€¼æ˜¯å¦ä¸æ•´å‹å€¼è¡¨ç¤ºå®Œå…¨ä¸€è‡´ï¼Œå³æ²¡æœ‰å°æ•°éƒ¨åˆ†ä»¥åŠå…¶å€¼åœ¨æ•´å‹å€¼çš„è¡¨ç¤ºèŒƒå›´å†…ï¼Œè‹¥ä¸æ»¡è¶³æ¡ä»¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š</p>
<pre tabindex="0"><code>3.2 | 0		--&gt; stdin:1: number has no integer representation
2^64 | 0	--&gt; stdin:1: number has no integer representation
math.random(1, 3.5)
--&gt;stdin:1: bad argument #2 to &#39;random&#39; (number has no integer representation)
</code></pre><p>å¦ä¸€ç§æŠŠæ•°å€¼å¼ºåˆ¶è½¬æ¢ä¸ºæ•´å‹å€¼çš„æ–¹å¼æ˜¯ä½¿ç”¨å‡½æ•°math.tointegerï¼Œè¯¥å‡½æ•°ä¼šåœ¨è¾“å…¥å‚æ•°æ— æ³•è½¬æ¢ä¸ºæ•´å‹å€¼æ—¶è¿”å›nilï¼š</p>
<pre tabindex="0"><code>math.tointeger(-258.0)		--&gt; -258
math.tointeger(2^30)		--&gt; 1073741824
math.tointeger(5.01)		--&gt; nil
math.tointeger(2^64)		--&gt; nil
</code></pre><p>è¿™ä¸ªå‡½æ•°åœ¨éœ€è¦æ£€æŸ¥ä¸€ä¸ªæ•°å­—èƒ½å¦è¢«è½¬æ¢æˆæ•´å‹å€¼æ—¶æœ‰ä½æœ‰ç”¨ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">cond2int</span> (x)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> math.tointeger(x) <span style="color:#f92672">or</span> x
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h2 id="37-è¿ç®—ç¬¦ä¼˜å…ˆçº§">3.7 è¿ç®—ç¬¦ä¼˜å…ˆçº§</h2>
<p>Luaè¯­è¨€ä¸­çš„è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰ï¼š</p>
<p>^</p>
<p>ä¸€å…ƒè¿ç®—ç¬¦ï¼ˆ-Â Â Â Â Â Â #Â Â Â Â Â Â ~Â Â Â Â Â Â notï¼‰</p>
<p>*Â Â Â Â Â Â /Â Â Â Â Â Â //Â Â Â Â Â Â %</p>
<p>+Â Â Â Â Â Â -</p>
<p>..Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ï¼ˆè¿æ¥ï¼‰</p>
<p>&laquo;Â Â Â Â Â Â &raquo;Â Â Â Â Â Â Â Â Â Â Â Â Â ï¼ˆæŒ‰ä½ç§»ä½ï¼‰</p>
<p>&amp;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ï¼ˆæŒ‰ä½ä¸ï¼‰</p>
<p>~Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ï¼ˆæŒ‰ä½å¼‚æˆ–ï¼‰</p>
<p>|Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ï¼ˆæŒ‰ä½æˆ–ï¼‰</p>
<p>&lt;Â Â Â Â Â Â &gt;Â Â Â Â Â Â &lt;=Â Â Â Â Â Â &gt;=Â Â Â Â Â Â ~=Â Â Â Â Â Â ==</p>
<p>and</p>
<p>or</p>
<p>åœ¨äºŒå…ƒè¿ç®—ç¬¦ä¸­ï¼Œé™¤äº†å¹‚è¿ç®—å’Œè¿æ¥æ“ä½œç¬¦æ˜¯å³ç»“åˆçš„å¤–ï¼Œå…¶ä»–è¿ç®—ç¬¦éƒ½æ˜¯å·¦ç»“åˆçš„ã€‚å› æ­¤ï¼Œä¸€ä¸‹å„ä¸ªè¡¨è¾¾å¼å·¦å³ç­‰ä»·ï¼š</p>
<pre tabindex="0"><code>a + i &lt; b / 2 + 1		--		(a + i) &lt; ((b / 2) + 1)
5 + x^2 * 8			--		5 + ((x^2) * 8)
a &lt; y and y &lt;= z		--		(a &lt; y) and (y &lt;= z)
-x^2				--		-(x^2)
x^y^z				--		x^(y^z)
</code></pre><p>å½“ä¸èƒ½ç¡®å®šä¼˜å…ˆçº§æ—¶ï¼Œåº”è¯¥æ˜¾ç¤ºåœ°ç”¨æ‹¬å·æ¥æŒ‡å®šæ‰€å¸Œæœ›çš„è¿ç®—æ¬¡åºã€‚</p>
<h2 id="38-å…¼å®¹æ€§">3.8 å…¼å®¹æ€§</h2>
<p>Lua5.3å¼•å…¥çš„æ•´å‹å€¼å¯¼è‡´äº†ä¸€å®šçš„ä¸å…¼å®¹ã€‚Lua5.3å’ŒLua5.2ä¹‹é—´çš„æœ€å¤§ä¸åŒå°±æ˜¯æ•´æ•°çš„è¡¨ç¤ºèŒƒå›´ã€‚Lua5.2æ”¯æŒçš„æœ€å¤§æ•´æ•°ä¸º2<sup>53</sup>ï¼Œè€ŒLua5.3æ”¯æŒçš„æœ€å¤§æ•´æ•°ä¸º2<sup>63</sup>-1ã€‚</p>
<p>ä¸æ•´å‹å¼•å…¥ç›¸å…³çš„é—®é¢˜çš„æ ¹æºåœ¨äºï¼ŒLuaè¯­è¨€å°†æ•°å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹å¼ã€‚Lua5.2å°†æ‰€æœ‰æ•´æ•°å€¼æ ¼å¼åŒ–ä¸ºæ•´å‹ï¼ˆä¸å¸¦å°æ•°ç‚¹ï¼‰ï¼Œè€ŒLua5.3åˆ™å°†æ‰€æœ‰çš„æµ®ç‚¹æ•°æ ¼å¼åŒ–ä¸ºæµ®ç‚¹å‹ã€‚å› æ­¤Lua5.2ä¼šå°†3.0æ ¼å¼åŒ–ä¸º&quot;3&quot;è¾“å‡ºï¼Œè€ŒLua5.3ä¼šå°†å…¶æ ¼å¼åŒ–ä¸º&quot;3.0&quot;è¾“å‡ºã€‚</p>
<p>ï¼ˆæ­¤å¤„è¯´æ˜ï¼ŒLua5.2æ˜¯æ²¡æœ‰ä¸“é—¨è¡¨ç¤ºæ•´å‹çš„ï¼Œå®ƒåªæœ‰ä¸€ç§æ•°å­—ç±»å‹ï¼Œå³åŒç²¾åº¦æµ®ç‚¹æ•°ç±»å‹ã€‚æ‰€ä»¥ä¸Šè¿°æåˆ°çš„ç›¸å…³çš„5.2çš„æ•´æ•°éƒ½æ˜¯å®é™…æ„ŸçŸ¥æ„ä¹‰ä¸Šçš„ï¼Œè€Œä¸æ˜¯è¡¨ç¤ºå½¢å¼ä¸Šçš„ï¼‰</p>

        </div>

        <div class="row middle-xs">
          <div class="col-xs-12">
            
          </div>
        </div>
        
          <div class="row">
            <div class="col-xs-12">
              
            </div>
          </div>

          



          
          
          <div style="height: 50px;"></div>
          
          <div class="post-comments">
            <div id="disqus_thread"></div>
<script>
  window.addEventListener("load", () => {
    (function() {
      
      var d = document,
        s = d.createElement("script");
      s.src = "https://dongi30.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  });
</script>
<noscript
  >Please enable JavaScript to view the
  <a href="https://disqus.com/?ref_noscript"
    >comments powered by Disqus.</a
  ></noscript
>

          </div>
          
        

        <div class="site-footer">
  
  
</div>

      </div>
    </div>
  </article>

  

<script>
  
  
    
    
  
</script>

  

</body>

</html>