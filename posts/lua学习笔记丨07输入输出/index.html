<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta name="generator" content="Hugo 0.136.5">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon_32.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="" />
  <meta property="og:url" content="http://localhost:1313/posts/lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%A807%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/" />
  <link rel="canonical" href="http://localhost:1313/posts/lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%A807%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/" /><link rel="apple-touch-icon" href="/favicon.png" />
  <link rel="icon" href="/favicon.png" />
  <link rel="shortcut" href="/favicon.png" /><link rel="alternate" type="application/atom+xml" href="http://localhost:1313/index.xml" title="å­æ˜¥å»¿ä¸€">

  <script type="application/ld+json">
  {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
           "@type": "WebPage",
           "@id": "http:\/\/localhost:1313\/"
      },
      "articleSection" : "posts",
      "name" : "Luaå­¦ä¹ ç¬”è®°ä¸¨07è¾“å…¥è¾“å‡º",
      "headline" : "Luaå­¦ä¹ ç¬”è®°ä¸¨07è¾“å…¥è¾“å‡º",
      "description" : "7.1ç®€å•IOæ¨¡å‹ å¯¹äºæ–‡ä»¶æ“ä½œæ¥è¯´ï¼ŒI\/Oåº“æä¾›äº†ä¸¤ç§ä¸åŒçš„æ¨¡å‹ã€‚ç®€å•æ¨¡å‹è™šæ‹Ÿäº†ä¸€ä¸ªå½“å‰è¾“å…¥æµï¼ˆcurrent input streamï¼‰å’Œä¸€ä¸ªå½“å‰è¾“å‡ºæµï¼ˆcurrent output streamï¼‰ï¼Œå…¶I\/Oæ“ä½œæ˜¯é€šè¿‡è¿™äº›æµå®ç°çš„ã€‚I\/Oåº“æŠŠå½“å‰è¾“å…¥æµåˆå§‹åŒ–ä¸ºè¿›ç¨‹çš„æ ‡å‡†è¾“å…¥ï¼ˆCè¯­è¨€ä¸­çš„stdinï¼‰ï¼Œå°†å½“å‰è¾“å‡ºæµåˆå§‹åŒ–ä¸ºè¿›ç¨‹çš„æ ‡å‡†è¾“å‡ºï¼ˆCè¯­è¨€ä¸­çš„stdoutï¼‰ã€‚å› æ­¤ï¼Œå½“æ‰§è¡Œç±»ä¼¼äºio.read()è¿™æ ·çš„è¯­å¥æ—¶ï¼Œå°±å¯ä»¥ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–ä¸€è¡Œã€‚\nå‡½æ•°io.inputå’Œå‡½æ•°io.outputå¯ä»¥ç”¨äºæ”¹å˜å½“å‰çš„è¾“å…¥è¾“å‡ºæµã€‚è°ƒç”¨io.input(file-name)ä¼šä»¥åªè¯»æ¨¡å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼Œå¹¶å°†æ–‡ä»¶è®¾ç½®ä¸ºå½“å‰è¾“å…¥æµã€‚ä¹‹åï¼Œæ‰€æœ‰çš„è¾“å…¥éƒ½å°†æ¥è‡ªè¯¥æ–‡ä»¶ï¼Œé™¤éå†æ¬¡è°ƒç”¨io.inputã€‚å¯¹äºè¾“å‡ºè€Œè¨€ï¼Œå‡½æ•°io.outputçš„é€»è¾‘ä¸ä¹‹ç±»ä¼¼ã€‚å¦‚æœå‡ºç°é”™è¯¯ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°éƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœæƒ³ç›´æ¥å¤„ç†è¿™äº›å¼‚å¸¸ï¼Œåˆ™å¿…é¡»ä½¿ç”¨å®Œæ•´I\/Oæ¨¡å‹ã€‚\nç”±äºå‡½æ•°writeæ¯”å‡½æ•°readç®€å•ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹å‡½æ•°writeã€‚å‡½æ•°io.writeå¯ä»¥è¯»å–ä»»æ„æ•°é‡çš„å­—ç¬¦ä¸²ï¼ˆæˆ–è€…æ•°å­—ï¼‰å¹¶å°†å…¶å†™å…¥å½“å‰è¾“å‡ºæµã€‚ç”±äºè°ƒç”¨è¯¥å‡½æ•°æ—¶å¯ä»¥ä½¿ç”¨å¤šä¸ªå‚æ•°ï¼Œå› æ­¤åº”è¯¥é¿å…ä½¿ç”¨io.write(a..b..c)ï¼Œåº”è¯¥è°ƒç”¨io.write(a,b,c),åè€…å¯ä»¥ç”¨æ›´å°‘çš„èµ„æºè¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œå¹¶ä¸”å¯ä»¥é¿å…æ›´å¤šçš„è¿æ¥åŠ¨ä½œã€‚\nä½œä¸ºåŸåˆ™ï¼Œåº”è¯¥åªåœ¨â€œç”¨åå³å¼ƒâ€çš„ä»£ç æˆ–è°ƒè¯•ä»£ç ä¸­ä½¿ç”¨å‡½æ•°printï¼›å½“éœ€è¦å®Œå…¨æ§åˆ¶è¾“å‡ºæ—¶ï¼Œåº”è¯¥ä½¿ç”¨å‡½æ•°io.writeã€‚ä¸å‡½æ•°printä¸åŒï¼Œå‡½æ•°io.writeä¸ä¼šåœ¨æœ€ç»ˆçš„è¾“å‡ºç»“æœä¸­æ·»åŠ è¯¸å¦‚åˆ¶è¡¨ç¬¦æˆ–æ¢è¡Œç¬¦è¿™æ ·çš„é¢å¤–å†…å®¹ã€‚æ­¤å¤–ï¼Œå‡½æ•°io.writeå…è®¸å¯¹è¾“å‡ºè¿›è¡Œé‡å®šå‘ï¼Œè€Œå‡½æ•°printåªèƒ½ä½¿ç”¨æ ‡å‡†è¾“å‡ºã€‚æœ€åï¼Œå‡½æ•°printå¯ä»¥è‡ªåŠ¨ä¸ºå…¶å‚æ•°è°ƒç”¨tostringï¼Œè¿™ä¸€ç‚¹å¯¹äºè°ƒè¯•è€Œè¨€éå¸¸ä¾¿åˆ©ï¼Œä½†è¿™ä¹Ÿå®¹æ˜“å¯¼è‡´ä¸€äº›è¯¡å¼‚çš„Bugã€‚\nå‡½æ•°io.writeåœ¨å°†æ•°å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶éµå¾ªä¸€èˆ¬çš„è½¬æ¢è§„åˆ™ï¼›å¦‚æœæƒ³è¦å®Œå…¨åœ°æ§åˆ¶è¿™ç§è½¬æ¢ï¼Œåˆ™åº”è¯¥ä½¿ç”¨å‡½æ•°string.formatï¼š\nio.write(\u0026#34;sin(3) =\u0026#34;, math.sin(3), \u0026#34;\\n\u0026#34;)\r--\u0026gt; sin(3) = 0.14112000805987\rio.write(string.format(\u0026#34;sin(3) = %.4f\\n\u0026#34;, math.sin(3)))\r--\u0026gt; sin(3) = 0.1411 å‡½æ•°io.readå¯ä»¥ä»å½“å‰è¾“å…¥æµä¸­è¯»å–å­—ç¬¦ä¸²ï¼Œå…¶å‚æ•°å†³å®šäº†è¦è¯»å–çš„æ•°æ®ï¼š\n\u0022a\u0022\rè¯»å–æ•´ä¸ªæ–‡ä»¶\r\u0022l\u0022\rè¯»å–ä¸‹ä¸€è¡Œï¼ˆä¸¢å¼ƒæ¢è¡Œç¬¦ï¼‰\r\u0022L\u0022\rè¯»å–ä¸‹ä¸€è¡Œï¼ˆä¿ç•™æ¢è¡Œç¬¦ï¼‰\r\u0022n\u0022\rè¯»å–ä¸€ä¸ªæ•°å€¼\rnum\rä»¥å­—ç¬¦ä¸²è¯»å–numä¸ªå­—ç¬¦\rè°ƒç”¨io.read(\u0026ldquo;a\u0026rdquo;)å¯ä»å½“å‰ä½ç½®å¼€å§‹è¯»å–å½“å‰è¾“å…¥æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ã€‚å¦‚æœå½“å‰ä½ç½®å¤„äºæ–‡ä»¶çš„æœ«å°¾æˆ–æ–‡ä»¶ä¸ºç©ºï¼Œé‚£ä¹ˆè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚\nå› ä¸ºLuaè¯­è¨€å¯ä»¥é«˜æ•ˆåœ°å¤„ç†é•¿å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥åœ¨Luaè¯­è¨€ä¸­ç¼–å†™è¿‡æ»¤å™¨ï¼ˆfilterï¼‰çš„ä¸€ç§ç®€å•æŠ€å·§å°±æ˜¯å°†æ•´ä¸ªæ–‡ä»¶è¯»å–åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œç„¶åå¯¹å­—ç¬¦ä¸²è¿›è¡Œå¤„ç†ï¼Œæœ€åè¾“å‡ºç»“æœä¸ºï¼š\nt = io.read(\u0026#34;a\u0026#34;)\t-- è¯»å–æ•´ä¸ªæ–‡ä»¶ t = string.gsub(t, \u0026#34;bad\u0026#34;, \u0026#34;good\u0026#34;)\t-- è¿›è¡Œå¤„ç† io.write(t)\t-- è¾“å‡ºç»“æœ ä¸¾ä¸€ä¸ªæ›´åŠ å…·ä½“çš„ä¾‹å­ï¼Œä»¥ä¸‹æ˜¯ä¸€æ®µå°†æŸä¸ªæ–‡ä»¶çš„å†…å®¹ä½¿ç”¨MIMEå¯æ‰“å°å­—ç¬¦å¼•ç”¨ç¼–ç ï¼ˆquoted-printableï¼‰è¿›è¡Œç¼–ç çš„ä»£ç ã€‚è¿™ç§ç¼–ç æ–¹å¼å°†æ‰€æœ‰éASCIIå­—ç¬¦ç¼–ç ä¸º=xx,å…¶ä¸­xxæ˜¯è¿™ä¸ªå­—ç¬¦çš„åå…­è¿›åˆ¶ã€‚ä¸ºä¿è¯ç¼–ç çš„ä¸€è‡´æ€§ï¼Œç­‰å·ä¹Ÿä¼šè¢«ç¼–ç ï¼š\nt = io.read(\u0026#34;all\u0026#34;) t = string.gsub(t, \u0026#34;([\\128-\\255=])\u0026#34;, function (c) return string.format(\u0026#34;=%02X\u0026#34;, string.byte(c))) end) io.write(t) å‡½æ•°string.gsubä¼šåŒ¹é…æ‰€æœ‰çš„ç­‰å·åŠéASCIIå­—ç¬¦ï¼ˆä»128åˆ°255ï¼‰ï¼Œå¹¶è°ƒç”¨æŒ‡å®šçš„å‡½æ•°å®Œæˆæ›¿æ¢ï¼ˆåœ¨ç¬¬10ç« ä¸­ä¼šè®¨è®ºæœ‰å…³æ¨¡å¼åŒ¹é…çš„ç»†èŠ‚ï¼‰ã€‚\nè°ƒç”¨io.read(\u0026ldquo;l\u0026rdquo;)ä¼šè¿”å›å½“å‰è¾“å…¥æµçš„ä¸‹ä¸€è¡Œï¼Œä¸åŒ…æ‹¬æ¢è¡Œç¬¦åœ¨å†…ï¼›è°ƒç”¨io.read(\u0026ldquo;L\u0026rdquo;)ä¸ä¹‹ç±»ä¼¼ï¼Œä½†ä¼šä¿ç•™æ¢è¡Œç¬¦ï¼ˆå¦‚æœæ–‡ä»¶ä¸­å­˜åœ¨ï¼‰ã€‚å½“åˆ°è¾¾æ–‡ä»¶æœ«å°¾æ—¶ï¼Œç”±äºå·²ç»æ²¡æœ‰å†…å®¹å¯ä»¥è¿”å›ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›nilã€‚é€‰é¡¹\u0026quot;l\u0026quot;æ˜¯å‡½æ•°readçš„é»˜è®¤å‚æ•°ã€‚é€šå¸¸åªåœ¨é€è¡Œå¤„ç†æ•°æ®çš„ç®—æ³•ä¸­ä½¿ç”¨è¯¥å‚æ•°ï¼Œå…¶ä»–æƒ…å†µåˆ™æ›´å€¾å‘äºä½¿ç”¨é€‰é¡¹\u0026quot;a\u0026quot;ä¸€æ¬¡æ€§åœ°è¯»å–æ•´ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…åƒåç»­ä»‹ç»çš„æŒ‰å—ï¼ˆblockï¼‰è¯»å–ã€‚ä½œä¸ºé¢å‘è¡Œçš„ï¼ˆline-orientedï¼‰è¾“å…¥çš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼Œä»¥ä¸‹çš„ç¨‹åºä¼šåœ¨å°†å½“å‰è¾“å…¥å¤åˆ¶åˆ°å½“å‰è¾“å‡ºä¸­çš„åŒæ—¶å¯¹æ¯è¡Œè¿›è¡Œç¼–å·ï¼š\nfor count = 1, math.huge do local line = io.read(\u0026#34;L\u0026#34;) if line == nil then break end io.write(string.format(\u0026#34;%6d \u0026#34;, count), line) end ä¸è¿‡ï¼Œå¦‚æœè¦é€è¡Œè¿­ä»£ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆä½¿ç”¨io.linesè¿­ä»£å™¨ä¼šæ›´ç®€å•ï¼š\n",
      "inLanguage" : "en-US",
      "author" : "",
      "creator" : "",
      "publisher": "",
      "accountablePerson" : "",
      "copyrightHolder" : "",
      "copyrightYear" : "2025",
      "datePublished": "2025-01-22 00:00:00 \u002b0000 UTC",
      "dateModified" : "2025-01-22 00:00:00 \u002b0000 UTC",
      "url" : "http:\/\/localhost:1313\/posts\/lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%A807%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA\/",
      "keywords" : [  ]
  }
</script>
<title>
    
    Luaå­¦ä¹ ç¬”è®°ä¸¨07è¾“å…¥è¾“å‡º
  
  </title>
  <meta property="og:title" content="Luaå­¦ä¹ ç¬”è®°ä¸¨07è¾“å…¥è¾“å‡º" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="7.1ç®€å•IOæ¨¡å‹ å¯¹äºæ–‡ä»¶æ“ä½œæ¥è¯´ï¼ŒI/Oåº“æä¾›äº†ä¸¤ç§ä¸åŒçš„æ¨¡å‹ã€‚ç®€å•æ¨¡å‹è™šæ‹Ÿäº†ä¸€ä¸ªå½“å‰è¾“å…¥æµï¼ˆcurrent input streamï¼‰å’Œä¸€ä¸ªå½“å‰è¾“å‡ºæµï¼ˆcurrent output streamï¼‰ï¼Œå…¶I/Oæ“ä½œæ˜¯é€šè¿‡è¿™äº›æµå®ç°çš„ã€‚I/Oåº“æŠŠå½“å‰è¾“å…¥æµåˆå§‹åŒ–ä¸ºè¿›ç¨‹çš„æ ‡å‡†è¾“å…¥ï¼ˆCè¯­è¨€ä¸­çš„stdinï¼‰ï¼Œå°†å½“å‰è¾“å‡ºæµåˆå§‹åŒ–ä¸ºè¿›ç¨‹çš„æ ‡å‡†è¾“å‡ºï¼ˆCè¯­è¨€ä¸­çš„stdoutï¼‰ã€‚å› æ­¤ï¼Œå½“æ‰§è¡Œç±»ä¼¼äºio.read()è¿™æ ·çš„è¯­å¥æ—¶ï¼Œå°±å¯ä»¥ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–ä¸€è¡Œã€‚
å‡½æ•°io.inputå’Œå‡½æ•°io.outputå¯ä»¥ç”¨äºæ”¹å˜å½“å‰çš„è¾“å…¥è¾“å‡ºæµã€‚è°ƒç”¨io.input(file-name)ä¼šä»¥åªè¯»æ¨¡å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼Œå¹¶å°†æ–‡ä»¶è®¾ç½®ä¸ºå½“å‰è¾“å…¥æµã€‚ä¹‹åï¼Œæ‰€æœ‰çš„è¾“å…¥éƒ½å°†æ¥è‡ªè¯¥æ–‡ä»¶ï¼Œé™¤éå†æ¬¡è°ƒç”¨io.inputã€‚å¯¹äºè¾“å‡ºè€Œè¨€ï¼Œå‡½æ•°io.outputçš„é€»è¾‘ä¸ä¹‹ç±»ä¼¼ã€‚å¦‚æœå‡ºç°é”™è¯¯ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°éƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœæƒ³ç›´æ¥å¤„ç†è¿™äº›å¼‚å¸¸ï¼Œåˆ™å¿…é¡»ä½¿ç”¨å®Œæ•´I/Oæ¨¡å‹ã€‚
ç”±äºå‡½æ•°writeæ¯”å‡½æ•°readç®€å•ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹å‡½æ•°writeã€‚å‡½æ•°io.writeå¯ä»¥è¯»å–ä»»æ„æ•°é‡çš„å­—ç¬¦ä¸²ï¼ˆæˆ–è€…æ•°å­—ï¼‰å¹¶å°†å…¶å†™å…¥å½“å‰è¾“å‡ºæµã€‚ç”±äºè°ƒç”¨è¯¥å‡½æ•°æ—¶å¯ä»¥ä½¿ç”¨å¤šä¸ªå‚æ•°ï¼Œå› æ­¤åº”è¯¥é¿å…ä½¿ç”¨io.write(a..b..c)ï¼Œåº”è¯¥è°ƒç”¨io.write(a,b,c),åè€…å¯ä»¥ç”¨æ›´å°‘çš„èµ„æºè¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œå¹¶ä¸”å¯ä»¥é¿å…æ›´å¤šçš„è¿æ¥åŠ¨ä½œã€‚
ä½œä¸ºåŸåˆ™ï¼Œåº”è¯¥åªåœ¨â€œç”¨åå³å¼ƒâ€çš„ä»£ç æˆ–è°ƒè¯•ä»£ç ä¸­ä½¿ç”¨å‡½æ•°printï¼›å½“éœ€è¦å®Œå…¨æ§åˆ¶è¾“å‡ºæ—¶ï¼Œåº”è¯¥ä½¿ç”¨å‡½æ•°io.writeã€‚ä¸å‡½æ•°printä¸åŒï¼Œå‡½æ•°io.writeä¸ä¼šåœ¨æœ€ç»ˆçš„è¾“å‡ºç»“æœä¸­æ·»åŠ è¯¸å¦‚åˆ¶è¡¨ç¬¦æˆ–æ¢è¡Œç¬¦è¿™æ ·çš„é¢å¤–å†…å®¹ã€‚æ­¤å¤–ï¼Œå‡½æ•°io.writeå…è®¸å¯¹è¾“å‡ºè¿›è¡Œé‡å®šå‘ï¼Œè€Œå‡½æ•°printåªèƒ½ä½¿ç”¨æ ‡å‡†è¾“å‡ºã€‚æœ€åï¼Œå‡½æ•°printå¯ä»¥è‡ªåŠ¨ä¸ºå…¶å‚æ•°è°ƒç”¨tostringï¼Œè¿™ä¸€ç‚¹å¯¹äºè°ƒè¯•è€Œè¨€éå¸¸ä¾¿åˆ©ï¼Œä½†è¿™ä¹Ÿå®¹æ˜“å¯¼è‡´ä¸€äº›è¯¡å¼‚çš„Bugã€‚
å‡½æ•°io.writeåœ¨å°†æ•°å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶éµå¾ªä¸€èˆ¬çš„è½¬æ¢è§„åˆ™ï¼›å¦‚æœæƒ³è¦å®Œå…¨åœ°æ§åˆ¶è¿™ç§è½¬æ¢ï¼Œåˆ™åº”è¯¥ä½¿ç”¨å‡½æ•°string.formatï¼š
io.write(&#34;sin(3) =&#34;, math.sin(3), &#34;\n&#34;)--&gt; sin(3) = 0.14112000805987io.write(string.format(&#34;sin(3) = %.4f\n&#34;, math.sin(3)))--&gt; sin(3) = 0.1411 å‡½æ•°io.readå¯ä»¥ä»å½“å‰è¾“å…¥æµä¸­è¯»å–å­—ç¬¦ä¸²ï¼Œå…¶å‚æ•°å†³å®šäº†è¦è¯»å–çš„æ•°æ®ï¼š
&#34;a&#34;è¯»å–æ•´ä¸ªæ–‡ä»¶&#34;l&#34;è¯»å–ä¸‹ä¸€è¡Œï¼ˆä¸¢å¼ƒæ¢è¡Œç¬¦ï¼‰&#34;L&#34;è¯»å–ä¸‹ä¸€è¡Œï¼ˆä¿ç•™æ¢è¡Œç¬¦ï¼‰&#34;n&#34;è¯»å–ä¸€ä¸ªæ•°å€¼numä»¥å­—ç¬¦ä¸²è¯»å–numä¸ªå­—ç¬¦è°ƒç”¨io.read(&ldquo;a&rdquo;)å¯ä»å½“å‰ä½ç½®å¼€å§‹è¯»å–å½“å‰è¾“å…¥æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ã€‚å¦‚æœå½“å‰ä½ç½®å¤„äºæ–‡ä»¶çš„æœ«å°¾æˆ–æ–‡ä»¶ä¸ºç©ºï¼Œé‚£ä¹ˆè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚
å› ä¸ºLuaè¯­è¨€å¯ä»¥é«˜æ•ˆåœ°å¤„ç†é•¿å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥åœ¨Luaè¯­è¨€ä¸­ç¼–å†™è¿‡æ»¤å™¨ï¼ˆfilterï¼‰çš„ä¸€ç§ç®€å•æŠ€å·§å°±æ˜¯å°†æ•´ä¸ªæ–‡ä»¶è¯»å–åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œç„¶åå¯¹å­—ç¬¦ä¸²è¿›è¡Œå¤„ç†ï¼Œæœ€åè¾“å‡ºç»“æœä¸ºï¼š
t = io.read(&#34;a&#34;)	-- è¯»å–æ•´ä¸ªæ–‡ä»¶ t = string.gsub(t, &#34;bad&#34;, &#34;good&#34;)	-- è¿›è¡Œå¤„ç† io.write(t)	-- è¾“å‡ºç»“æœ ä¸¾ä¸€ä¸ªæ›´åŠ å…·ä½“çš„ä¾‹å­ï¼Œä»¥ä¸‹æ˜¯ä¸€æ®µå°†æŸä¸ªæ–‡ä»¶çš„å†…å®¹ä½¿ç”¨MIMEå¯æ‰“å°å­—ç¬¦å¼•ç”¨ç¼–ç ï¼ˆquoted-printableï¼‰è¿›è¡Œç¼–ç çš„ä»£ç ã€‚è¿™ç§ç¼–ç æ–¹å¼å°†æ‰€æœ‰éASCIIå­—ç¬¦ç¼–ç ä¸º=xx,å…¶ä¸­xxæ˜¯è¿™ä¸ªå­—ç¬¦çš„åå…­è¿›åˆ¶ã€‚ä¸ºä¿è¯ç¼–ç çš„ä¸€è‡´æ€§ï¼Œç­‰å·ä¹Ÿä¼šè¢«ç¼–ç ï¼š
t = io.read(&#34;all&#34;) t = string.gsub(t, &#34;([\128-\255=])&#34;, function (c) return string.format(&#34;=%02X&#34;, string.byte(c))) end) io.write(t) å‡½æ•°string.gsubä¼šåŒ¹é…æ‰€æœ‰çš„ç­‰å·åŠéASCIIå­—ç¬¦ï¼ˆä»128åˆ°255ï¼‰ï¼Œå¹¶è°ƒç”¨æŒ‡å®šçš„å‡½æ•°å®Œæˆæ›¿æ¢ï¼ˆåœ¨ç¬¬10ç« ä¸­ä¼šè®¨è®ºæœ‰å…³æ¨¡å¼åŒ¹é…çš„ç»†èŠ‚ï¼‰ã€‚
è°ƒç”¨io.read(&ldquo;l&rdquo;)ä¼šè¿”å›å½“å‰è¾“å…¥æµçš„ä¸‹ä¸€è¡Œï¼Œä¸åŒ…æ‹¬æ¢è¡Œç¬¦åœ¨å†…ï¼›è°ƒç”¨io.read(&ldquo;L&rdquo;)ä¸ä¹‹ç±»ä¼¼ï¼Œä½†ä¼šä¿ç•™æ¢è¡Œç¬¦ï¼ˆå¦‚æœæ–‡ä»¶ä¸­å­˜åœ¨ï¼‰ã€‚å½“åˆ°è¾¾æ–‡ä»¶æœ«å°¾æ—¶ï¼Œç”±äºå·²ç»æ²¡æœ‰å†…å®¹å¯ä»¥è¿”å›ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›nilã€‚é€‰é¡¹&quot;l&quot;æ˜¯å‡½æ•°readçš„é»˜è®¤å‚æ•°ã€‚é€šå¸¸åªåœ¨é€è¡Œå¤„ç†æ•°æ®çš„ç®—æ³•ä¸­ä½¿ç”¨è¯¥å‚æ•°ï¼Œå…¶ä»–æƒ…å†µåˆ™æ›´å€¾å‘äºä½¿ç”¨é€‰é¡¹&quot;a&quot;ä¸€æ¬¡æ€§åœ°è¯»å–æ•´ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…åƒåç»­ä»‹ç»çš„æŒ‰å—ï¼ˆblockï¼‰è¯»å–ã€‚ä½œä¸ºé¢å‘è¡Œçš„ï¼ˆline-orientedï¼‰è¾“å…¥çš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼Œä»¥ä¸‹çš„ç¨‹åºä¼šåœ¨å°†å½“å‰è¾“å…¥å¤åˆ¶åˆ°å½“å‰è¾“å‡ºä¸­çš„åŒæ—¶å¯¹æ¯è¡Œè¿›è¡Œç¼–å·ï¼š
for count = 1, math.huge do local line = io.read(&#34;L&#34;) if line == nil then break end io.write(string.format(&#34;%6d &#34;, count), line) end ä¸è¿‡ï¼Œå¦‚æœè¦é€è¡Œè¿­ä»£ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆä½¿ç”¨io.linesè¿­ä»£å™¨ä¼šæ›´ç®€å•ï¼š
" />
  <meta name="description" content="7.1ç®€å•IOæ¨¡å‹ å¯¹äºæ–‡ä»¶æ“ä½œæ¥è¯´ï¼ŒI/Oåº“æä¾›äº†ä¸¤ç§ä¸åŒçš„æ¨¡å‹ã€‚ç®€å•æ¨¡å‹è™šæ‹Ÿäº†ä¸€ä¸ªå½“å‰è¾“å…¥æµï¼ˆcurrent input streamï¼‰å’Œä¸€ä¸ªå½“å‰è¾“å‡ºæµï¼ˆcurrent output streamï¼‰ï¼Œå…¶I/Oæ“ä½œæ˜¯é€šè¿‡è¿™äº›æµå®ç°çš„ã€‚I/Oåº“æŠŠå½“å‰è¾“å…¥æµåˆå§‹åŒ–ä¸ºè¿›ç¨‹çš„æ ‡å‡†è¾“å…¥ï¼ˆCè¯­è¨€ä¸­çš„stdinï¼‰ï¼Œå°†å½“å‰è¾“å‡ºæµåˆå§‹åŒ–ä¸ºè¿›ç¨‹çš„æ ‡å‡†è¾“å‡ºï¼ˆCè¯­è¨€ä¸­çš„stdoutï¼‰ã€‚å› æ­¤ï¼Œå½“æ‰§è¡Œç±»ä¼¼äºio.read()è¿™æ ·çš„è¯­å¥æ—¶ï¼Œå°±å¯ä»¥ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–ä¸€è¡Œã€‚
å‡½æ•°io.inputå’Œå‡½æ•°io.outputå¯ä»¥ç”¨äºæ”¹å˜å½“å‰çš„è¾“å…¥è¾“å‡ºæµã€‚è°ƒç”¨io.input(file-name)ä¼šä»¥åªè¯»æ¨¡å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼Œå¹¶å°†æ–‡ä»¶è®¾ç½®ä¸ºå½“å‰è¾“å…¥æµã€‚ä¹‹åï¼Œæ‰€æœ‰çš„è¾“å…¥éƒ½å°†æ¥è‡ªè¯¥æ–‡ä»¶ï¼Œé™¤éå†æ¬¡è°ƒç”¨io.inputã€‚å¯¹äºè¾“å‡ºè€Œè¨€ï¼Œå‡½æ•°io.outputçš„é€»è¾‘ä¸ä¹‹ç±»ä¼¼ã€‚å¦‚æœå‡ºç°é”™è¯¯ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°éƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœæƒ³ç›´æ¥å¤„ç†è¿™äº›å¼‚å¸¸ï¼Œåˆ™å¿…é¡»ä½¿ç”¨å®Œæ•´I/Oæ¨¡å‹ã€‚
ç”±äºå‡½æ•°writeæ¯”å‡½æ•°readç®€å•ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹å‡½æ•°writeã€‚å‡½æ•°io.writeå¯ä»¥è¯»å–ä»»æ„æ•°é‡çš„å­—ç¬¦ä¸²ï¼ˆæˆ–è€…æ•°å­—ï¼‰å¹¶å°†å…¶å†™å…¥å½“å‰è¾“å‡ºæµã€‚ç”±äºè°ƒç”¨è¯¥å‡½æ•°æ—¶å¯ä»¥ä½¿ç”¨å¤šä¸ªå‚æ•°ï¼Œå› æ­¤åº”è¯¥é¿å…ä½¿ç”¨io.write(a..b..c)ï¼Œåº”è¯¥è°ƒç”¨io.write(a,b,c),åè€…å¯ä»¥ç”¨æ›´å°‘çš„èµ„æºè¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œå¹¶ä¸”å¯ä»¥é¿å…æ›´å¤šçš„è¿æ¥åŠ¨ä½œã€‚
ä½œä¸ºåŸåˆ™ï¼Œåº”è¯¥åªåœ¨â€œç”¨åå³å¼ƒâ€çš„ä»£ç æˆ–è°ƒè¯•ä»£ç ä¸­ä½¿ç”¨å‡½æ•°printï¼›å½“éœ€è¦å®Œå…¨æ§åˆ¶è¾“å‡ºæ—¶ï¼Œåº”è¯¥ä½¿ç”¨å‡½æ•°io.writeã€‚ä¸å‡½æ•°printä¸åŒï¼Œå‡½æ•°io.writeä¸ä¼šåœ¨æœ€ç»ˆçš„è¾“å‡ºç»“æœä¸­æ·»åŠ è¯¸å¦‚åˆ¶è¡¨ç¬¦æˆ–æ¢è¡Œç¬¦è¿™æ ·çš„é¢å¤–å†…å®¹ã€‚æ­¤å¤–ï¼Œå‡½æ•°io.writeå…è®¸å¯¹è¾“å‡ºè¿›è¡Œé‡å®šå‘ï¼Œè€Œå‡½æ•°printåªèƒ½ä½¿ç”¨æ ‡å‡†è¾“å‡ºã€‚æœ€åï¼Œå‡½æ•°printå¯ä»¥è‡ªåŠ¨ä¸ºå…¶å‚æ•°è°ƒç”¨tostringï¼Œè¿™ä¸€ç‚¹å¯¹äºè°ƒè¯•è€Œè¨€éå¸¸ä¾¿åˆ©ï¼Œä½†è¿™ä¹Ÿå®¹æ˜“å¯¼è‡´ä¸€äº›è¯¡å¼‚çš„Bugã€‚
å‡½æ•°io.writeåœ¨å°†æ•°å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶éµå¾ªä¸€èˆ¬çš„è½¬æ¢è§„åˆ™ï¼›å¦‚æœæƒ³è¦å®Œå…¨åœ°æ§åˆ¶è¿™ç§è½¬æ¢ï¼Œåˆ™åº”è¯¥ä½¿ç”¨å‡½æ•°string.formatï¼š
io.write(&#34;sin(3) =&#34;, math.sin(3), &#34;\n&#34;)--&gt; sin(3) = 0.14112000805987io.write(string.format(&#34;sin(3) = %.4f\n&#34;, math.sin(3)))--&gt; sin(3) = 0.1411 å‡½æ•°io.readå¯ä»¥ä»å½“å‰è¾“å…¥æµä¸­è¯»å–å­—ç¬¦ä¸²ï¼Œå…¶å‚æ•°å†³å®šäº†è¦è¯»å–çš„æ•°æ®ï¼š
&#34;a&#34;è¯»å–æ•´ä¸ªæ–‡ä»¶&#34;l&#34;è¯»å–ä¸‹ä¸€è¡Œï¼ˆä¸¢å¼ƒæ¢è¡Œç¬¦ï¼‰&#34;L&#34;è¯»å–ä¸‹ä¸€è¡Œï¼ˆä¿ç•™æ¢è¡Œç¬¦ï¼‰&#34;n&#34;è¯»å–ä¸€ä¸ªæ•°å€¼numä»¥å­—ç¬¦ä¸²è¯»å–numä¸ªå­—ç¬¦è°ƒç”¨io.read(&ldquo;a&rdquo;)å¯ä»å½“å‰ä½ç½®å¼€å§‹è¯»å–å½“å‰è¾“å…¥æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ã€‚å¦‚æœå½“å‰ä½ç½®å¤„äºæ–‡ä»¶çš„æœ«å°¾æˆ–æ–‡ä»¶ä¸ºç©ºï¼Œé‚£ä¹ˆè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚
å› ä¸ºLuaè¯­è¨€å¯ä»¥é«˜æ•ˆåœ°å¤„ç†é•¿å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥åœ¨Luaè¯­è¨€ä¸­ç¼–å†™è¿‡æ»¤å™¨ï¼ˆfilterï¼‰çš„ä¸€ç§ç®€å•æŠ€å·§å°±æ˜¯å°†æ•´ä¸ªæ–‡ä»¶è¯»å–åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œç„¶åå¯¹å­—ç¬¦ä¸²è¿›è¡Œå¤„ç†ï¼Œæœ€åè¾“å‡ºç»“æœä¸ºï¼š
t = io.read(&#34;a&#34;)	-- è¯»å–æ•´ä¸ªæ–‡ä»¶ t = string.gsub(t, &#34;bad&#34;, &#34;good&#34;)	-- è¿›è¡Œå¤„ç† io.write(t)	-- è¾“å‡ºç»“æœ ä¸¾ä¸€ä¸ªæ›´åŠ å…·ä½“çš„ä¾‹å­ï¼Œä»¥ä¸‹æ˜¯ä¸€æ®µå°†æŸä¸ªæ–‡ä»¶çš„å†…å®¹ä½¿ç”¨MIMEå¯æ‰“å°å­—ç¬¦å¼•ç”¨ç¼–ç ï¼ˆquoted-printableï¼‰è¿›è¡Œç¼–ç çš„ä»£ç ã€‚è¿™ç§ç¼–ç æ–¹å¼å°†æ‰€æœ‰éASCIIå­—ç¬¦ç¼–ç ä¸º=xx,å…¶ä¸­xxæ˜¯è¿™ä¸ªå­—ç¬¦çš„åå…­è¿›åˆ¶ã€‚ä¸ºä¿è¯ç¼–ç çš„ä¸€è‡´æ€§ï¼Œç­‰å·ä¹Ÿä¼šè¢«ç¼–ç ï¼š
t = io.read(&#34;all&#34;) t = string.gsub(t, &#34;([\128-\255=])&#34;, function (c) return string.format(&#34;=%02X&#34;, string.byte(c))) end) io.write(t) å‡½æ•°string.gsubä¼šåŒ¹é…æ‰€æœ‰çš„ç­‰å·åŠéASCIIå­—ç¬¦ï¼ˆä»128åˆ°255ï¼‰ï¼Œå¹¶è°ƒç”¨æŒ‡å®šçš„å‡½æ•°å®Œæˆæ›¿æ¢ï¼ˆåœ¨ç¬¬10ç« ä¸­ä¼šè®¨è®ºæœ‰å…³æ¨¡å¼åŒ¹é…çš„ç»†èŠ‚ï¼‰ã€‚
è°ƒç”¨io.read(&ldquo;l&rdquo;)ä¼šè¿”å›å½“å‰è¾“å…¥æµçš„ä¸‹ä¸€è¡Œï¼Œä¸åŒ…æ‹¬æ¢è¡Œç¬¦åœ¨å†…ï¼›è°ƒç”¨io.read(&ldquo;L&rdquo;)ä¸ä¹‹ç±»ä¼¼ï¼Œä½†ä¼šä¿ç•™æ¢è¡Œç¬¦ï¼ˆå¦‚æœæ–‡ä»¶ä¸­å­˜åœ¨ï¼‰ã€‚å½“åˆ°è¾¾æ–‡ä»¶æœ«å°¾æ—¶ï¼Œç”±äºå·²ç»æ²¡æœ‰å†…å®¹å¯ä»¥è¿”å›ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›nilã€‚é€‰é¡¹&quot;l&quot;æ˜¯å‡½æ•°readçš„é»˜è®¤å‚æ•°ã€‚é€šå¸¸åªåœ¨é€è¡Œå¤„ç†æ•°æ®çš„ç®—æ³•ä¸­ä½¿ç”¨è¯¥å‚æ•°ï¼Œå…¶ä»–æƒ…å†µåˆ™æ›´å€¾å‘äºä½¿ç”¨é€‰é¡¹&quot;a&quot;ä¸€æ¬¡æ€§åœ°è¯»å–æ•´ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…åƒåç»­ä»‹ç»çš„æŒ‰å—ï¼ˆblockï¼‰è¯»å–ã€‚ä½œä¸ºé¢å‘è¡Œçš„ï¼ˆline-orientedï¼‰è¾“å…¥çš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼Œä»¥ä¸‹çš„ç¨‹åºä¼šåœ¨å°†å½“å‰è¾“å…¥å¤åˆ¶åˆ°å½“å‰è¾“å‡ºä¸­çš„åŒæ—¶å¯¹æ¯è¡Œè¿›è¡Œç¼–å·ï¼š
for count = 1, math.huge do local line = io.read(&#34;L&#34;) if line == nil then break end io.write(string.format(&#34;%6d &#34;, count), line) end ä¸è¿‡ï¼Œå¦‚æœè¦é€è¡Œè¿­ä»£ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆä½¿ç”¨io.linesè¿­ä»£å™¨ä¼šæ›´ç®€å•ï¼š
" />
  <meta property="og:locale" content="cn" /><meta property="og:image" content="/favicon.png" />
  

  
    <style>@import '/fonts/lxgw-wenkai-screen-webfont/style.css';body{font-family:lxgw wenkai screen,sans-serif;-webkit-font-smoothing:antialiased;margin:0 20px}article{max-width:800px;margin-left:auto;margin-right:auto}a{color:#000;text-decoration:none!important}a:hover{text-decoration:underline!important}table{width:100%;border-collapse:collapse;border:2px solid #000}th,td{text-align:center;vertical-align:middle;border:2px solid #000;padding:10px}p{}details{background-color:#f0f0f0;border:0 solid #1e90ff;border-radius:20px;padding:10px}details[open]{background-color:#f0f0f0}summary{font-size:20px;font-weight:700;color:#000;cursor:pointer;transition:color .3s ease}summary:hover{color:#ff4500}.highlight{position:relative}button{appearance:auto;text-rendering:auto;color:buttontext;letter-spacing:normal;word-spacing:normal;line-height:normal;text-transform:none;text-indent:0;text-shadow:none;display:inline-block;text-align:center;align-items:flex-start;cursor:default;box-sizing:border-box;background-color:buttonface;margin:0;padding-block:1px;padding-inline:6px;border-width:2px;border-style:outset;border-color:buttonborder;border-image:initial}.copy-button{display:none;position:absolute;top:10px;right:10px;padding:5px 10px;font-size:.8em;color:#fff;background-color:#008b8b;border:none;border-radius:4px;box-shadow:0 2px 5px rgba(0,0,0,.2);transition:background-color .3s ease}.copy-button:hover{background-color:#cd3bee}.highlight:hover .copy-button{display:inline-block}.post-ads{color:#00f;margin:50px 0}.markdown-body{font-size:18px;max-width:100%}.markdown-body a{text-decoration:underline;text-decoration-color:#000}.markdown-body blockquote{margin:0;padding:0 1em;color:#57606a;border-left:.25em solid #d0d7de}.markdown-body pre{padding:16px;overflow:auto;border-radius:10px}.markdown-body code{padding:.2em .4em;font-size:85%;background-color:#f6f8fa;border-radius:6px}.markdown-body pre>code{padding:0;font-size:100%;background-color:inherit;border:0}.Chinese .markdown-body{line-height:200%}.header-main{display:flex;padding:5px 0;justify-content:flex-start}.header-avatar img{width:113px;height:125px;border-radius:50%;margin-right:10px}.site-date-catalog{font-family:lxgw wenkai screen,sans-serif;font-size:2rem;color:blue}.header-title{font-family:lxgw wenkai screen,sans-serif;font-size:2rem;font-weight:700;margin-top:32px}.header-title a{text-decoration:none}.header-subtitle{color:#c557a2;font-size:1.3rem;font-weight:700}.header-items{margin:5px 0}.header-item{margin:0 5px}.header-line{width:100%;border-width:2px;border-color:#482936;border-style:solid none none none}.header-content{display:flex;align-items:center}.lang-switch{font-weight:900}#posts-list{min-height:600px}.posts-line{font-size:1.2rem;margin:12px 0}.posts-categories{font-size:.8rem;margin:auto;text-align:center}.posts-category{padding:3px 0;border:#000 2px solid;border-radius:5px}.site-footer{margin-top:50px}.site-footer-item{margin-right:12px}pre{background-color:#f5f2f0;padding:5px;font-family:lxgw wenkai screen,sans-serif;font-size:18px;margin-bottom:18px margin-left:0px margin-right:0px margin-top:18px padding-top:16px padding-bottom:16px padding-left:16px padding-right:16px white-space:pre-wrap;word-wrap:break-word;overflow-x:auto;overflow-y:auto;-webkit-font-smoothing:antialiased}code{font-family:Consolas,Monaco,andale mono,ubuntu mono,monospace}.post-header{margin-bottom:50px;font-weight:900}.post-title{font-size:2rem;font-weight:900}.post-tags{display:inline;font-weight:900;padding:2px 5px;margin-right:6px;border:#000 2px solid;border-radius:5px}.post-date{font-weight:900;font-style:italic}.post-author{float:right;font-weight:900}.page-content{min-height:60%}.post-content{margin-bottom:50px}.post-content p{hyphens:auto;line-height:1.8;text-justify:ideographic;margin-bottom:1em}.post-content img{max-width:100%;display:block;margin-right:auto;margin-top:6px}.post-content .post-gallery{display:flex;flex-wrap:wrap;gap:6px}.post-content .post-gallery img{margin-right:auto;margin-top:auto;width:calc(50% - 3px)}.related-content{border-width:3px;border-style:solid;border-color:#000;padding:0 10px;margin-bottom:50px;margin-top:100px}.related-content li{margin:5px 0}.taxonomy-term{font-size:3rem}.gallery-img{text-align:center}.gallery-img span{text-align:center}.gallery-img-desc{font-size:.8em;font-weight:800}#disqus_thread{position:relative}#disqus_thread:after{content:"";display:block;height:55px;width:100%;position:absolute;bottom:0;background:#fff}@media screen and (max-width:600px){.header-title,.header-subtitle,.header-items{}.posts-line{font-size:16px}.markdown-body{font-size:18px;max-width:100%}.post-title{font-size:2rem;font-weight:900}.post-content p{letter-spacing:.05em}.post-content .post-gallery img{width:100%}}@media screen and (max-width:48em){.posts-category{display:none}}.language-css.token.string,.style.token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:0 0!important}</style>
  
  
    <style>.container,.container-fluid{margin-right:auto;margin-left:auto}.container-fluid{padding-right:2rem;padding-left:2rem}.row{box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:initial;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-.5rem;margin-left:-.5rem}.row.reverse{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.col.reverse{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.col-xs,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-offset-0,.col-xs-offset-1,.col-xs-offset-10,.col-xs-offset-11,.col-xs-offset-12,.col-xs-offset-2,.col-xs-offset-3,.col-xs-offset-4,.col-xs-offset-5,.col-xs-offset-6,.col-xs-offset-7,.col-xs-offset-8,.col-xs-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-xs{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-xs-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-xs-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-xs-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-xs-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-xs-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-xs-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-xs-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-xs-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-xs-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-xs-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-xs-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-xs-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-xs-offset-0{margin-left:0}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-11{margin-left:91.66666667%}.start-xs{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-xs{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-xs{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-xs{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-xs{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-xs{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-xs{-ms-flex-pack:distribute;justify-content:space-around}.between-xs{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-xs{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-xs{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}@media only screen and (min-width:48em){.container{width:49rem}.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-offset-0,.col-sm-offset-1,.col-sm-offset-10,.col-sm-offset-11,.col-sm-offset-12,.col-sm-offset-2,.col-sm-offset-3,.col-sm-offset-4,.col-sm-offset-5,.col-sm-offset-6,.col-sm-offset-7,.col-sm-offset-8,.col-sm-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-sm{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-sm-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-sm-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-sm-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-sm-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-sm-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-sm-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-sm-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-sm-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-sm-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-sm-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-sm-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-sm-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-sm-offset-0{margin-left:0}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-11{margin-left:91.66666667%}.start-sm{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-sm{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-sm{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-sm{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-sm{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-sm{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-sm{-ms-flex-pack:distribute;justify-content:space-around}.between-sm{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-sm{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-sm{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:64em){.container{width:65rem}.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-offset-0,.col-md-offset-1,.col-md-offset-10,.col-md-offset-11,.col-md-offset-12,.col-md-offset-2,.col-md-offset-3,.col-md-offset-4,.col-md-offset-5,.col-md-offset-6,.col-md-offset-7,.col-md-offset-8,.col-md-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-md{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-md-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-md-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-md-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-md-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-md-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-md-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-md-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-md-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-md-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-md-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-md-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-md-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-md-offset-0{margin-left:0}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-3{margin-left:25%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-6{margin-left:50%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-9{margin-left:75%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-11{margin-left:91.66666667%}.start-md{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-md{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-md{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-md{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-md{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-md{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-md{-ms-flex-pack:distribute;justify-content:space-around}.between-md{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-md{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-md{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:75em){.container{width:76rem}.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-offset-0,.col-lg-offset-1,.col-lg-offset-10,.col-lg-offset-11,.col-lg-offset-12,.col-lg-offset-2,.col-lg-offset-3,.col-lg-offset-4,.col-lg-offset-5,.col-lg-offset-6,.col-lg-offset-7,.col-lg-offset-8,.col-lg-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-lg{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-lg-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-lg-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-lg-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-lg-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-lg-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-lg-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-lg-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-lg-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-lg-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-lg-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-lg-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-lg-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-lg-offset-0{margin-left:0}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-11{margin-left:91.66666667%}.start-lg{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-lg{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-lg{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-lg{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-lg{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-lg{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-lg{-ms-flex-pack:distribute;justify-content:space-around}.between-lg{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-lg{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-lg{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}</style>
  

  

  <link href="/index.xml" rel="alternate" type="application/rss+xml"
    title="å­æ˜¥å»¿ä¸€">
  
  

<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<script>
  function addDarkmodeWidget() {
    new Darkmode().showWidget();
  }
  window.addEventListener('load', addDarkmodeWidget);
</script>

  
  
</head>


<body>
  <article class="post Chinese" id="article">
    <div class="row">
      <div class="col-xs-12">
        <div class="site-header">
          
<header class="header-main">
	<div class="header-content">
		<div class="header-avatar">
		<img src="/%e5%a4%b4%e5%83%8f.jpg" />
		</div>
		<div class="header-title">
			<a href="/">å­æ˜¥å»¿ä¸€</a>
			<div class="header-subtitle">ä¸­æ„èƒ¡æ¢“æ‚¦å¤§ç‹ğŸ’–</div> 
		</div>
	</div>
</header>
<div class="row end-md header-items">
  
  <div class="header-item">
    <a href="/categories/index.html" >åˆ†ç±»</a>
  </div>
  
</div>
<div class="row">
   
</div>
<div class="header-line"></div>

        </div>
        <header class="post-header">
          <h1 class="post-title">Luaå­¦ä¹ ç¬”è®°ä¸¨07è¾“å…¥è¾“å‡º</h1>
          
          <div class="row post-desc">
            <div class="col-xs-6">
              
              <time class="post-date" datetime="2025-01-22 00:00:00 UTC">
                22 Jan 2025
              </time>
              
            </div>
            <div class="col-xs-6">
              
            </div>
          </div>
          
        </header>

        <div class="post-content markdown-body">
          
          <h2 id="71ç®€å•ioæ¨¡å‹">7.1ç®€å•IOæ¨¡å‹</h2>
<p>å¯¹äºæ–‡ä»¶æ“ä½œæ¥è¯´ï¼ŒI/Oåº“æä¾›äº†ä¸¤ç§ä¸åŒçš„æ¨¡å‹ã€‚ç®€å•æ¨¡å‹è™šæ‹Ÿäº†ä¸€ä¸ªå½“å‰è¾“å…¥æµï¼ˆcurrent input streamï¼‰å’Œä¸€ä¸ªå½“å‰è¾“å‡ºæµï¼ˆcurrent output streamï¼‰ï¼Œå…¶I/Oæ“ä½œæ˜¯é€šè¿‡è¿™äº›æµå®ç°çš„ã€‚I/Oåº“æŠŠå½“å‰è¾“å…¥æµåˆå§‹åŒ–ä¸ºè¿›ç¨‹çš„æ ‡å‡†è¾“å…¥ï¼ˆCè¯­è¨€ä¸­çš„stdinï¼‰ï¼Œå°†å½“å‰è¾“å‡ºæµåˆå§‹åŒ–ä¸ºè¿›ç¨‹çš„æ ‡å‡†è¾“å‡ºï¼ˆCè¯­è¨€ä¸­çš„stdoutï¼‰ã€‚å› æ­¤ï¼Œå½“æ‰§è¡Œç±»ä¼¼äºio.read()è¿™æ ·çš„è¯­å¥æ—¶ï¼Œå°±å¯ä»¥ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–ä¸€è¡Œã€‚</p>
<p>å‡½æ•°io.inputå’Œå‡½æ•°io.outputå¯ä»¥ç”¨äºæ”¹å˜å½“å‰çš„è¾“å…¥è¾“å‡ºæµã€‚è°ƒç”¨io.input(file-name)ä¼šä»¥åªè¯»æ¨¡å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼Œå¹¶å°†æ–‡ä»¶è®¾ç½®ä¸ºå½“å‰è¾“å…¥æµã€‚ä¹‹åï¼Œæ‰€æœ‰çš„è¾“å…¥éƒ½å°†æ¥è‡ªè¯¥æ–‡ä»¶ï¼Œé™¤éå†æ¬¡è°ƒç”¨io.inputã€‚å¯¹äºè¾“å‡ºè€Œè¨€ï¼Œå‡½æ•°io.outputçš„é€»è¾‘ä¸ä¹‹ç±»ä¼¼ã€‚å¦‚æœå‡ºç°é”™è¯¯ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°éƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœæƒ³ç›´æ¥å¤„ç†è¿™äº›å¼‚å¸¸ï¼Œåˆ™å¿…é¡»ä½¿ç”¨å®Œæ•´I/Oæ¨¡å‹ã€‚</p>
<p>ç”±äºå‡½æ•°writeæ¯”å‡½æ•°readç®€å•ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹å‡½æ•°writeã€‚å‡½æ•°io.writeå¯ä»¥è¯»å–ä»»æ„æ•°é‡çš„å­—ç¬¦ä¸²ï¼ˆæˆ–è€…æ•°å­—ï¼‰å¹¶å°†å…¶å†™å…¥å½“å‰è¾“å‡ºæµã€‚ç”±äºè°ƒç”¨è¯¥å‡½æ•°æ—¶å¯ä»¥ä½¿ç”¨å¤šä¸ªå‚æ•°ï¼Œå› æ­¤åº”è¯¥é¿å…ä½¿ç”¨io.write(a..b..c)ï¼Œåº”è¯¥è°ƒç”¨io.write(a,b,c),åè€…å¯ä»¥ç”¨æ›´å°‘çš„èµ„æºè¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œå¹¶ä¸”å¯ä»¥é¿å…æ›´å¤šçš„è¿æ¥åŠ¨ä½œã€‚</p>
<p>ä½œä¸ºåŸåˆ™ï¼Œåº”è¯¥åªåœ¨â€œç”¨åå³å¼ƒâ€çš„ä»£ç æˆ–è°ƒè¯•ä»£ç ä¸­ä½¿ç”¨å‡½æ•°printï¼›å½“éœ€è¦å®Œå…¨æ§åˆ¶è¾“å‡ºæ—¶ï¼Œåº”è¯¥ä½¿ç”¨å‡½æ•°io.writeã€‚ä¸å‡½æ•°printä¸åŒï¼Œå‡½æ•°io.writeä¸ä¼šåœ¨æœ€ç»ˆçš„è¾“å‡ºç»“æœä¸­æ·»åŠ è¯¸å¦‚åˆ¶è¡¨ç¬¦æˆ–æ¢è¡Œç¬¦è¿™æ ·çš„é¢å¤–å†…å®¹ã€‚æ­¤å¤–ï¼Œå‡½æ•°io.writeå…è®¸å¯¹è¾“å‡ºè¿›è¡Œé‡å®šå‘ï¼Œè€Œå‡½æ•°printåªèƒ½ä½¿ç”¨æ ‡å‡†è¾“å‡ºã€‚æœ€åï¼Œå‡½æ•°printå¯ä»¥è‡ªåŠ¨ä¸ºå…¶å‚æ•°è°ƒç”¨tostringï¼Œè¿™ä¸€ç‚¹å¯¹äºè°ƒè¯•è€Œè¨€éå¸¸ä¾¿åˆ©ï¼Œä½†è¿™ä¹Ÿå®¹æ˜“å¯¼è‡´ä¸€äº›è¯¡å¼‚çš„Bugã€‚</p>
<p>å‡½æ•°io.writeåœ¨å°†æ•°å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶éµå¾ªä¸€èˆ¬çš„è½¬æ¢è§„åˆ™ï¼›å¦‚æœæƒ³è¦å®Œå…¨åœ°æ§åˆ¶è¿™ç§è½¬æ¢ï¼Œåˆ™åº”è¯¥ä½¿ç”¨å‡½æ•°string.formatï¼š</p>
<pre tabindex="0"><code>io.write(&#34;sin(3) =&#34;, math.sin(3), &#34;\n&#34;)
	--&gt; sin(3) = 0.14112000805987
io.write(string.format(&#34;sin(3) = %.4f\n&#34;, math.sin(3)))
	--&gt; sin(3) = 0.1411
</code></pre><p>å‡½æ•°io.readå¯ä»¥ä»å½“å‰è¾“å…¥æµä¸­è¯»å–å­—ç¬¦ä¸²ï¼Œå…¶å‚æ•°å†³å®šäº†è¦è¯»å–çš„æ•°æ®ï¼š</p>
<table border="1" cellpadding="10" cellspacing="0">
  <tbody>
    <tr>
      <td>"a"</td>
      <td>è¯»å–æ•´ä¸ªæ–‡ä»¶</td>
    </tr>
    <tr>
      <td>"l"</td>
      <td>è¯»å–ä¸‹ä¸€è¡Œï¼ˆä¸¢å¼ƒæ¢è¡Œç¬¦ï¼‰</td>
    </tr>
    <tr>
      <td>"L"</td>
      <td>è¯»å–ä¸‹ä¸€è¡Œï¼ˆä¿ç•™æ¢è¡Œç¬¦ï¼‰</td>
    </tr>
    <tr>
      <td>"n"</td>
      <td>è¯»å–ä¸€ä¸ªæ•°å€¼</td>
    </tr>
    <tr>
      <td>num</td>
      <td>ä»¥å­—ç¬¦ä¸²è¯»å–numä¸ªå­—ç¬¦</td>
    </tr>
    </tbody>
</table>
<p>è°ƒç”¨io.read(&ldquo;a&rdquo;)å¯ä»å½“å‰ä½ç½®å¼€å§‹è¯»å–å½“å‰è¾“å…¥æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ã€‚å¦‚æœå½“å‰ä½ç½®å¤„äºæ–‡ä»¶çš„æœ«å°¾æˆ–æ–‡ä»¶ä¸ºç©ºï¼Œé‚£ä¹ˆè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</p>
<p>å› ä¸ºLuaè¯­è¨€å¯ä»¥é«˜æ•ˆåœ°å¤„ç†é•¿å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥åœ¨Luaè¯­è¨€ä¸­ç¼–å†™è¿‡æ»¤å™¨ï¼ˆfilterï¼‰çš„ä¸€ç§ç®€å•æŠ€å·§å°±æ˜¯å°†æ•´ä¸ªæ–‡ä»¶è¯»å–åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œç„¶åå¯¹å­—ç¬¦ä¸²è¿›è¡Œå¤„ç†ï¼Œæœ€åè¾“å‡ºç»“æœä¸ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>t <span style="color:#f92672">=</span> io.read(<span style="color:#e6db74">&#34;a&#34;</span>)					<span style="color:#75715e">-- è¯»å–æ•´ä¸ªæ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>t <span style="color:#f92672">=</span> string.gsub(t, <span style="color:#e6db74">&#34;bad&#34;</span>, <span style="color:#e6db74">&#34;good&#34;</span>)	<span style="color:#75715e">-- è¿›è¡Œå¤„ç†</span>
</span></span><span style="display:flex;"><span>io.write(t)							<span style="color:#75715e">-- è¾“å‡ºç»“æœ</span>
</span></span></code></pre></div><p>ä¸¾ä¸€ä¸ªæ›´åŠ å…·ä½“çš„ä¾‹å­ï¼Œä»¥ä¸‹æ˜¯ä¸€æ®µå°†æŸä¸ªæ–‡ä»¶çš„å†…å®¹ä½¿ç”¨MIMEå¯æ‰“å°å­—ç¬¦å¼•ç”¨ç¼–ç ï¼ˆquoted-printableï¼‰è¿›è¡Œç¼–ç çš„ä»£ç ã€‚è¿™ç§ç¼–ç æ–¹å¼å°†æ‰€æœ‰éASCIIå­—ç¬¦ç¼–ç ä¸º=xx,å…¶ä¸­xxæ˜¯è¿™ä¸ªå­—ç¬¦çš„åå…­è¿›åˆ¶ã€‚ä¸ºä¿è¯ç¼–ç çš„ä¸€è‡´æ€§ï¼Œç­‰å·ä¹Ÿä¼šè¢«ç¼–ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>t <span style="color:#f92672">=</span> io.read(<span style="color:#e6db74">&#34;all&#34;</span>)
</span></span><span style="display:flex;"><span>t <span style="color:#f92672">=</span> string.gsub(t, <span style="color:#e6db74">&#34;([</span><span style="color:#ae81ff">\128</span><span style="color:#e6db74">-</span><span style="color:#ae81ff">\255</span><span style="color:#e6db74">=])&#34;</span>, <span style="color:#66d9ef">function</span> (c)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> string.format(<span style="color:#e6db74">&#34;=%02X&#34;</span>, string.byte(c)))
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">end</span>)
</span></span><span style="display:flex;"><span>io.write(t)
</span></span></code></pre></div><p>å‡½æ•°string.gsubä¼šåŒ¹é…æ‰€æœ‰çš„ç­‰å·åŠéASCIIå­—ç¬¦ï¼ˆä»128åˆ°255ï¼‰ï¼Œå¹¶è°ƒç”¨æŒ‡å®šçš„å‡½æ•°å®Œæˆæ›¿æ¢ï¼ˆåœ¨ç¬¬10ç« ä¸­ä¼šè®¨è®ºæœ‰å…³æ¨¡å¼åŒ¹é…çš„ç»†èŠ‚ï¼‰ã€‚</p>
<p>è°ƒç”¨io.read(&ldquo;l&rdquo;)ä¼šè¿”å›å½“å‰è¾“å…¥æµçš„ä¸‹ä¸€è¡Œï¼Œä¸åŒ…æ‹¬æ¢è¡Œç¬¦åœ¨å†…ï¼›è°ƒç”¨io.read(&ldquo;L&rdquo;)ä¸ä¹‹ç±»ä¼¼ï¼Œä½†ä¼šä¿ç•™æ¢è¡Œç¬¦ï¼ˆå¦‚æœæ–‡ä»¶ä¸­å­˜åœ¨ï¼‰ã€‚å½“åˆ°è¾¾æ–‡ä»¶æœ«å°¾æ—¶ï¼Œç”±äºå·²ç»æ²¡æœ‰å†…å®¹å¯ä»¥è¿”å›ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›nilã€‚é€‰é¡¹&quot;l&quot;æ˜¯å‡½æ•°readçš„é»˜è®¤å‚æ•°ã€‚é€šå¸¸åªåœ¨é€è¡Œå¤„ç†æ•°æ®çš„ç®—æ³•ä¸­ä½¿ç”¨è¯¥å‚æ•°ï¼Œå…¶ä»–æƒ…å†µåˆ™æ›´å€¾å‘äºä½¿ç”¨é€‰é¡¹&quot;a&quot;ä¸€æ¬¡æ€§åœ°è¯»å–æ•´ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…åƒåç»­ä»‹ç»çš„æŒ‰å—ï¼ˆblockï¼‰è¯»å–ã€‚ä½œä¸ºé¢å‘è¡Œçš„ï¼ˆline-orientedï¼‰è¾“å…¥çš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼Œä»¥ä¸‹çš„ç¨‹åºä¼šåœ¨å°†å½“å‰è¾“å…¥å¤åˆ¶åˆ°å½“å‰è¾“å‡ºä¸­çš„åŒæ—¶å¯¹æ¯è¡Œè¿›è¡Œç¼–å·ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> count <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, math.huge <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">local</span> line <span style="color:#f92672">=</span> io.read(<span style="color:#e6db74">&#34;L&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> line <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span> <span style="color:#66d9ef">break</span> <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>	io.write(string.format(<span style="color:#e6db74">&#34;%6d  &#34;</span>, count), line)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>ä¸è¿‡ï¼Œå¦‚æœè¦é€è¡Œè¿­ä»£ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆä½¿ç”¨io.linesè¿­ä»£å™¨ä¼šæ›´ç®€å•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#66d9ef">in</span> io.lines() <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	count <span style="color:#f92672">=</span> count <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>	io.write(string.format(<span style="color:#e6db74">&#34;%6d  &#34;</span>, count), line, <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>å¦ä¸€ä¸ªé¢å‘è¡Œçš„è¾“å…¥çš„ä¾‹å­å‚è§ä¸‹ä¾‹ï¼Œç»™å‡ºäº†ä¸€ä¸ªå¯¹æ–‡ä»¶ä¸­çš„è¡Œè¿›è¡Œæ’åºçš„å®Œæ•´ç¨‹åºã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> lines <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- å°†æ‰€æœ‰è¡Œè¯»å–åˆ°è¡¨&#39;lines&#39;ä¸­</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#66d9ef">in</span> io.lines() <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	lines[<span style="color:#f92672">#</span>lines <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> line
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- æ’åº</span>
</span></span><span style="display:flex;"><span>table.sort(lines)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- è¾“å‡ºæ‰€æœ‰çš„è¡Œ</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> _, l <span style="color:#66d9ef">in</span> ipairs(lines) <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	io.write(l, <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>è°ƒç”¨io.read(&ldquo;n&rdquo;)ä¼šä»å½“å‰è¾“å…¥æµä¸­è¯»å–ä¸€ä¸ªæ•°å€¼ï¼Œè¿™ä¹Ÿæ˜¯å‡½æ•°readè¿”å›å€¼ä¸ºæ•°å€¼ï¼ˆæ•´å‹æˆ–è€…æµ®ç‚¹å‹ï¼Œä¸Luaè¯­æ³•æ‰«æå™¨çš„è§„åˆ™ä¸€è‡´ï¼‰è€Œéå­—ç¬¦ä¸²çš„å”¯ä¸€æƒ…å†µã€‚å¦‚æœåœ¨è·³è¿‡äº†ç©ºæ ¼åï¼Œå‡½æ•°io.readä»ç„¶ä¸èƒ½ä»å½“å‰ä½ç½®è¯»å–åˆ°æ•°å€¼ï¼ˆç”±äºé”™è¯¯çš„æ ¼å¼é—®é¢˜æˆ–åˆ°äº†æ–‡ä»¶æœ«å°¾ï¼‰ï¼Œåˆ™è¿”å›nilã€‚</p>
<p>é™¤äº†ä¸Šè¿°è¿™äº›åŸºæœ¬çš„è¯»å–æ¨¡å¼å¤–ï¼Œåœ¨è°ƒç”¨å‡½æ•°readæ—¶è¿˜å¯ä»¥ç”¨ä¸€ä¸ªæ•°å­—nä½œä¸ºå…¶å‚æ•°ï¼šåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå‡½æ•°readä¼šä»è¾“å…¥æµä¸­è¯»å–nä¸ªå­—ç¬¦ã€‚å¦‚æœæ— æ³•è¯»å–åˆ°ä»»ä½•å­—ç¬¦ï¼ˆå¤„äºæ–‡ä»¶æœ«å°¾ï¼‰åˆ™è¿”å›nilï¼›å¦åˆ™ï¼Œåˆ™è¿”å›ä¸€ä¸ªç”±æµä¸­æœ€å¤šnä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²ã€‚ä½œä¸ºè¿™ç§è¯»å–æ¨¡å¼çš„ç¤ºä¾‹ï¼Œä»¥ä¸‹çš„ä»£ç å±•ç¤ºäº†å°†æ–‡ä»¶ä»stdinå¤åˆ¶åˆ°stdoutçš„é«˜æ•ˆæ–¹æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">true</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">local</span> block <span style="color:#f92672">=</span> io.read(<span style="color:#ae81ff">2</span><span style="color:#f92672">^</span><span style="color:#ae81ff">13</span>)		<span style="color:#75715e">-- å—å¤§å°æ˜¯8KB</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> block <span style="color:#66d9ef">then</span> <span style="color:#66d9ef">break</span> <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>	io.write(block)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>io.read(0)æ˜¯ä¸€ä¸ªç‰¹ä¾‹ï¼Œå®ƒå¸¸ç”¨äºæµ‹è¯•æ˜¯å¦åˆ°è¾¾äº†æ–‡ä»¶æœ«å°¾ã€‚å¦‚æœä»ç„¶æœ‰æ•°æ®å¯ä¾›è¯»å–ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼›å¦åˆ™ï¼Œåˆ™è¿”å›nilã€‚</p>
<p>è°ƒç”¨å‡½æ•°readæ—¶å¯ä»¥æŒ‡å®šå¤šä¸ªé€‰é¡¹ï¼Œå‡½æ•°ä¼šæ ¹æ®æ¯ä¸ªå‚æ•°è¿”å›ç›¸åº”çš„ç»“æœã€‚å‡è®¾æœ‰ä¸€ä¸ªæ¯è¡Œç”±3ä¸ªæ•°å­—ç»„æˆçš„æ–‡ä»¶ï¼š</p>
<pre tabindex="0"><code>6.0			-3.23		 15e12
4.3			234		 1000001
...
</code></pre><p>å¦‚æœæƒ³æ‰“å°æ¯ä¸€è¡Œçš„æœ€å¤§å€¼ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡è°ƒç”¨å‡½æ•°readæ¥ä¸€æ¬¡æ€§åœ°åŒæ—¶è¯»å–æ¯è¡Œä¸­çš„3ä¸ªæ•°å­—ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">true</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">local</span> n1, n2, n3 <span style="color:#f92672">=</span> io.read(<span style="color:#e6db74">&#34;n&#34;</span>, <span style="color:#e6db74">&#34;n&#34;</span>, <span style="color:#e6db74">&#34;n&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> n1 <span style="color:#66d9ef">then</span> <span style="color:#66d9ef">break</span> <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>	print(math.max(n1, n2, n3))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h2 id="72-å®Œæ•´ioæ¨¡å‹">7.2 å®Œæ•´I/Oæ¨¡å‹</h2>
<p>ç®€å•/Oæ¨¡å‹å¯¹äºè¯¸å¦‚åŒæ—¶è¯»å†™å¤šä¸ªæ–‡ä»¶ç­‰æ›´é«˜çº§çš„æ–‡ä»¶æ“ä½œæ¥è¯´å°±ä¸å¤Ÿäº†ã€‚å¯¹äºè¿™äº›æ–‡ä»¶æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°å®Œæ•´I/Oæ¨¡å‹ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨å‡½æ•°io.openæ¥æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œè¯¥å‡½æ•°ä»¿é€ äº†Cè¯­è¨€ä¸­çš„å‡½æ•°fopenã€‚è¿™ä¸ªå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå‚æ•°æ˜¯å¾…æ‰“å¼€æ–‡ä»¶çš„æ–‡ä»¶åï¼Œå¦ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ¨¡å¼ï¼ˆmodeï¼‰å­—ç¬¦ä¸²ã€‚æ¨¡å¼å­—ç¬¦ä¸²åŒ…æ‹¬è¡¨ç¤ºåªè¯»çš„rã€è¡¨ç¤ºåªå†™çš„wï¼ˆä¹Ÿå¯ä»¥ç”¨æ¥åˆ é™¤æ–‡ä»¶ä¸­åŸæœ‰çš„å†…å®¹ï¼‰ã€è¡¨ç¤ºè¿½åŠ çš„aï¼Œä»¥åŠå¦å¤–ä¸€ä¸ªå¯é€‰çš„è¡¨ç¤ºæ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶çš„bã€‚å‡½æ•°io.openè¿”å›å¯¹åº”æ–‡ä»¶çš„æµã€‚å½“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œè¯¥å‡½æ•°ä¼šåœ¨è¿”å›nilçš„åŒæ—¶è¿”å›ä¸€æ¡é”™è¯¯ä¿¡æ¯åŠä¸€ä¸ªç³»ç»Ÿç›¸å…³çš„é”™è¯¯ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>print(io.open(<span style="color:#e6db74">&#34;non-existent-file&#34;</span>, <span style="color:#e6db74">&#34;r&#34;</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">--&gt; nil		non-existent-file: No such file or directory	2</span>
</span></span><span style="display:flex;"><span>print(io.open(<span style="color:#e6db74">&#34;/etc/passwd&#34;</span>, <span style="color:#e6db74">&#34;w&#34;</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">--&gt; nil		/etc/passwd: Permission denied	13</span>
</span></span></code></pre></div><p>æ£€æŸ¥é”™è¯¯çš„ä¸€ç§å…¸å‹æ–¹æ³•æ˜¯ä½¿ç”¨å‡½æ•°assertï¼š</p>
<pre tabindex="0"><code>local f = assert(io.open(filename, mode))
</code></pre><p>å¦‚æœå‡½æ•°io.openæ‰§è¡Œå¤±è´¥ï¼Œé”™è¯¯ä¿¡æ¯ä¼šä½œä¸ºå‡½æ•°assertçš„ç¬¬äºŒä¸ªå‚æ•°è¢«ä¼ å…¥ï¼Œä¹‹åå‡½æ•° assertä¼šå°†é”™è¯¯ä¿¡æ¯å±•ç¤ºå‡ºæ¥ã€‚</p>
<p>åœ¨æ‰“å¼€æ–‡ä»¶åï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ³•readå’Œwriteä»æµä¸­è¯»å–å’Œå‘æµä¸­å†™å…¥ã€‚å®ƒä»¬ä¸å‡½æ•°readå’Œwriteç±»ä¼¼ï¼Œä½†éœ€è¦ä½¿ç”¨å†’å·è¿ç®—ç¬¦å°†å®ƒä»¬å½“ä½œæµå¯¹è±¡çš„æ–¹æ³•æ¥è°ƒç”¨ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„ä»£ç æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¹¶è¯»å–å…¶ä¸­æ‰€æœ‰å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> f <span style="color:#f92672">=</span> assert(io.open(filename, <span style="color:#e6db74">&#34;r&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> t <span style="color:#f92672">=</span> f:read(<span style="color:#e6db74">&#34;a&#34;</span>)
</span></span><span style="display:flex;"><span>f:close()
</span></span></code></pre></div><p>å…³äºå†’å·è¿ç®—ç¬¦çš„ç»†èŠ‚å°†ä¼šåœ¨ç¬¬21ç« ä¸­è®¨è®ºã€‚</p>
<p>I/Oåº“æä¾›äº†ä¸‰ä¸ªé¢„å®šä¹‰çš„Cè¯­è¨€æµçš„å¥æŸ„ï¼šio.stdinã€io.stdoutå’Œio.stderrã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„ä»£ç å°†ä¿¡æ¯ç›´æ¥å†™åˆ°æ ‡å‡†é”™è¯¯æµä¸­ï¼š</p>
<pre tabindex="0"><code>io.stderr:write(message)
</code></pre><p>å‡½æ•°io.inputå’Œio.outputå…è®¸æ··ç”¨å®Œæ•´I/Oæ¨¡å‹å’Œç®€å•I/Oæ¨¡å‹ã€‚è°ƒç”¨æ— å‚æ•°çš„io. input()å¯ä»¥è·å¾—å½“å‰è¾“å…¥æµï¼Œè°ƒç”¨io.input(handle)å¯ä»¥è®¾ç½®å½“å‰è¾“å…¥æµï¼ˆç±»ä¼¼çš„è°ƒç”¨åŒæ ·é€‚ç”¨äºå‡½æ•°io.outputï¼‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæƒ³è¦ä¸´æ—¶æ”¹å˜å½“å‰è¾“å…¥æµï¼Œå¯ä»¥åƒè¿™æ ·ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> temp <span style="color:#f92672">=</span> io.input()		<span style="color:#75715e">-- ä¿å­˜å½“å‰è¾“å…¥æµ</span>
</span></span><span style="display:flex;"><span>io.input(<span style="color:#e6db74">&#34;newinput&#34;</span>)		<span style="color:#75715e">-- æ‰“å¼€ä¸€ä¸ªæ–°çš„å½“å‰è¾“å…¥æµ</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- å¯¹æ–°çš„è¾“å…¥æµè¿›è¡ŒæŸäº›æ“ä½œ</span>
</span></span><span style="display:flex;"><span>io.input():close			<span style="color:#75715e">-- å…³é—­å½“å‰æµ</span>
</span></span><span style="display:flex;"><span>io.input(temp)				<span style="color:#75715e">-- æ¢å¤æ­¤å‰çš„è¾“å…¥æµ</span>
</span></span></code></pre></div><p>æ³¨æ„ï¼Œio.read(args)å®é™…ä¸Šæ˜¯io.input():read(args)çš„ç®€å†™ï¼Œå³å‡½æ•°readæ˜¯ç”¨åœ¨å½“å‰è¾“å…¥æµä¸Šçš„ã€‚åŒæ ·ï¼Œio.write(args)æ˜¯io.output():write(args)çš„ç®€å†™ã€‚</p>
<p>é™¤äº†å‡½æ•°io.readå¤–ï¼Œè¿˜å¯ä»¥ç”¨å‡½æ•°io.linesä»æµä¸­è¯»å–å†…å®¹ã€‚æ­£å¦‚ä¹‹å‰çš„ç¤ºä¾‹ä¸­å±•ç¤ºçš„é‚£æ ·ï¼Œå‡½æ•°io.linesè¿”å›ä¸€ä¸ªå¯ä»¥ä»æµä¸­ä¸æ–­è¯»å–å†…å®¹çš„è¿­ä»£å™¨ã€‚ç»™å‡½æ•°io.linesæä¾›ä¸€ä¸ªæ–‡ä»¶åï¼Œå®ƒå°±ä¼šä»¥åªè¯»æ–¹å¼æ‰“å¼€å¯¹åº”è¯¥æ–‡ä»¶çš„è¾“å…¥æµï¼Œå¹¶åœ¨åˆ°è¾¾æ–‡ä»¶æœ«å°¾åå…³é—­è¯¥è¾“å…¥æµã€‚è‹¥è°ƒç”¨æ—¶ä¸å¸¦å‚æ•°ï¼Œå‡½æ•°io.lineså°±ä»å½“å‰è¾“å…¥æµè¯»å–ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå‡½æ•°lineså½“ä½œå¥æŸ„çš„ä¸€ä¸ªæ–¹æ³•ã€‚æ­¤å¤–ï¼Œä»Lua5.2å¼€å§‹ï¼Œå‡½æ•°io.lineså¯ä»¥æ¥æ”¶å’Œå‡½æ•°io.readä¸€æ ·çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç ä¼šä»¥åœ¨8KBä¸ºå—è¿­ä»£ï¼Œå°†å½“å‰è¾“å…¥æµä¸­çš„å†…å®¹å¤åˆ¶åˆ°å½“å‰è¾“å‡ºæµä¸­ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> block <span style="color:#66d9ef">in</span> io.input():lines(<span style="color:#ae81ff">2</span><span style="color:#f92672">^</span><span style="color:#ae81ff">13</span>) <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	io.write(block)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h2 id="73-å…¶ä»–æ–‡ä»¶æ“ä½œ">7.3 å…¶ä»–æ–‡ä»¶æ“ä½œ</h2>
<p>å‡½æ•°io.tmpfileè¿”å›ä¸€ä¸ªæ“ä½œä¸´æ—¶æ–‡ä»¶çš„å¥æŸ„ï¼Œè¯¥å¥æŸ„æ˜¯ä»¥è¯»/å†™æ¨¡å¼æ‰“å¼€çš„ã€‚å½“ç¨‹åºè¿è¡Œç»“æŸåï¼Œè¯¥ä¸´æ—¶æ–‡ä»¶ä¼šè¢«è‡ªåŠ¨ç§»é™¤ï¼ˆåˆ é™¤ï¼‰ã€‚</p>
<p>å‡½æ•°flushå°†æ‰€æœ‰ç¼“å†²æ•°æ®å†™å…¥æ–‡ä»¶ã€‚ä¸å‡½æ•°writeä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå®ƒå½“ä½œio.flush()ä½¿ç”¨ï¼Œä»¥åˆ·æ–°å½“å‰è¾“å‡ºæµï¼›æˆ–è€…æŠŠå®ƒå½“ä½œæ–¹æ³•f:flush()ä½¿ç”¨ï¼Œä»¥åˆ·æ–°æµfã€‚</p>
<p>å‡½æ•°setvbufç”¨äºè®¾ç½®æµçš„ç¼“å†²æ¨¡å¼ã€‚è¯¥å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š&ldquo;no&quot;è¡¨ç¤ºæ— ç¼“å†²ï¼Œ&ldquo;full&quot;è¡¨ç¤ºåœ¨ç¼“å†²åŒºæ»¡æ—¶æˆ–è€…æ˜¾å¼åœ°åˆ·æ–°æ–‡ä»¶æ—¶æ‰å†™äººæ•°æ®ï¼Œ&ldquo;line&quot;è¡¨ç¤ºè¾“å‡ºä¸€ç›´è¢«ç¼“å†²ç›´åˆ°é‡åˆ°æ¢è¡Œç¬¦æˆ–ä»ä¸€äº›ç‰¹å®šæ–‡ä»¶ï¼ˆä¾‹å¦‚ç»ˆç«¯è®¾å¤‡ï¼‰ä¸­è¯»å–åˆ°äº†æ•°æ®ã€‚å¯¹äºåä¸¤ä¸ªé€‰é¡¹ï¼Œå‡½æ•°setvbufæ”¯æŒå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨äºæŒ‡å®šç¼“å†²åŒºå¤§å°ã€‚</p>
<p>åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œæ ‡å‡†é”™è¯¯æµï¼ˆio.stderrï¼‰æ˜¯ä¸è¢«ç¼“å†²çš„ï¼Œè€Œæ ‡å‡†è¾“å‡ºæµï¼ˆio.stdoutï¼‰æŒ‰è¡Œç¼“å†²ã€‚å› æ­¤ï¼Œå½“å‘æ ‡å‡†è¾“å‡ºä¸­å†™å…¥äº†ä¸å®Œæ•´çš„è¡Œï¼ˆä¾‹å¦‚è¿›åº¦æ¡ï¼‰æ—¶ï¼Œå¯èƒ½éœ€è¦åˆ·æ–°è¿™ä¸ªè¾“å‡ºæµæ‰èƒ½çœ‹åˆ°è¾“å‡ºç»“æœã€‚</p>
<p>å‡½æ•°seekç”¨æ¥è·å–å’Œè®¾ç½®æ–‡ä»¶çš„å½“å‰ä½ç½®ï¼Œå¸¸å¸¸ä½¿ç”¨f:seek(whence, offset)çš„å½¢å¼æ¥è°ƒç”¨ï¼Œå…¶ä¸­å‚æ•°whenceæ˜¯ä¸€ä¸ªæŒ‡å®šå¦‚ä½•ä½¿ç”¨åç§»çš„å­—ç¬¦ä¸²ã€‚å½“å‚æ•°whenceå–å€¼ä¸º&quot;set&quot;æ—¶ï¼Œè¡¨ç¤ºç›¸å¯¹äºæ–‡ä»¶å¼€å¤´çš„åç§»ï¼›å–å€¼ä¸º&quot;cur&quot;æ—¶ï¼Œè¡¨ç¤ºç›¸å¯¹äºæ–‡ä»¶å½“å‰ä½ç½®çš„åç§»ï¼›å–å€¼ä¸º&quot;end&quot;æ—¶ï¼Œè¡¨ç¤ºç›¸å¯¹äºæ–‡ä»¶å°¾éƒ¨çš„åç§»ã€‚ä¸ç®¡whenceçš„å–å€¼æ˜¯ä»€ä¹ˆï¼Œè¯¥å‡½æ•°éƒ½ä¼šä»¥å­—èŠ‚ä¸ºå•ä½ï¼Œè¿”å›å½“å‰æ–°ä½ç½®åœ¨æµä¸­ç›¸å¯¹äºæ–‡ä»¶å¼€å¤´çš„åç§»ã€‚</p>
<p>whenceçš„é»˜è®¤å€¼æ˜¯&quot;cur&rdquo;ï¼Œoffsetçš„é»˜è®¤å€¼æ˜¯0ã€‚å› æ­¤ï¼Œè°ƒç”¨å‡½æ•°file:seek()ä¼šè¿”å›å½“å‰çš„ä½ç½®ä¸”ä¸æ”¹å˜å½“å‰ä½ç½®ï¼›è°ƒç”¨å‡½æ•°file:seek(&ldquo;set&rdquo;)ä¼šå°†ä½ç½®é‡ç½®åˆ°æ–‡ä»¶å¼€å¤´å¹¶è¿”å›0ï¼›è°ƒç”¨å‡½æ•°file:seek(&ldquo;end&rdquo;)ä¼šå°†å½“å‰ä½ç½®é‡ç½®åˆ°æ–‡ä»¶ç»“å°¾å¹¶è¿”å›æ–‡ä»¶çš„å¤§å°ã€‚ä¸‹é¢çš„å‡½æ•°æ¼”ç¤ºäº†å¦‚ä½•åœ¨ä¸ä¿®æ”¹å½“å‰ä½ç½®çš„æƒ…å†µä¸‹è·å–æ–‡ä»¶å¤§å°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fsize</span> (file)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">local</span> current <span style="color:#f92672">=</span> file:seek()		<span style="color:#75715e">-- ä¿å­˜å½“å‰ä½ç½®</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">local</span> size <span style="color:#f92672">=</span> file:seek(<span style="color:#e6db74">&#34;end&#34;</span>)	<span style="color:#75715e">-- è·å–æ–‡ä»¶å¤§å°</span>
</span></span><span style="display:flex;"><span>	file:seek(<span style="color:#e6db74">&#34;set&#34;</span>, current)		<span style="color:#75715e">-- æ¢å¤å½“å‰ä½ç½®</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> size
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>æ­¤å¤–ï¼Œå‡½æ•°os.renameç”¨äºæ–‡ä»¶é‡å‘½åï¼Œå‡½æ•°os.removeç”¨äºç§»é™¤ï¼ˆåˆ é™¤ï¼‰æ–‡ä»¶ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºè¿™ä¸¤ä¸ªå‡½æ•°å¤„ç†çš„æ˜¯çœŸå®æ–‡ä»¶è€Œéæµï¼Œæ‰€ä»¥å®ƒä»¬ä½äºosåº“è€Œéioåº“ä¸­ã€‚</p>
<p>ä¸Šè¿°æ‰€æœ‰çš„å‡½æ•°åœ¨é‡åˆ°é”™è¯¯æ—¶ï¼Œå‡ä¼šè¿”å›nilå¤–åŠ ä¸€æ¡é”™è¯¯ä¿¡æ¯å’Œä¸€ä¸ªé”™è¯¯ç ã€‚</p>
<h2 id="74-å…¶ä»–ç³»ç»Ÿè°ƒç”¨">7.4 å…¶ä»–ç³»ç»Ÿè°ƒç”¨</h2>
<p>å‡½æ•°os.exitç”¨äºç»ˆæ­¢ç¨‹åºçš„æ‰§è¡Œã€‚è¯¥å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œè¡¨ç¤ºè¯¥ç¨‹åºçš„è¿”å›çŠ¶æ€ï¼Œå…¶å€¼å¯ä»¥ä¸ºä¸€ä¸ªæ•°å€¼ï¼ˆ0è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸï¼‰æˆ–è€…ä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆtrueè¡¨ç¤ºæ‰§è¡ŒæˆåŠŸï¼‰ï¼›è¯¥å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ˜¯å¯é€‰çš„ï¼Œå½“å€¼ä¸ºtueæ—¶ä¼šå…³é—­LuaçŠ¶æ€å¹¶è°ƒç”¨æ‰€æœ‰ææ„å™¨é‡Šæ”¾æ‰€å ç”¨çš„æ‰€æœ‰å†…å­˜ï¼ˆè¿™ç§ç»ˆæ­¢æ–¹å¼é€šå¸¸æ˜¯éå¿…è¦çš„ï¼Œå› ä¸ºå¤§å¤šæ•°æ“ä½œç³»ç»Ÿä¼šåœ¨è¿›ç¨‹é€€å‡ºæ—¶é‡Šæ”¾å…¶å ç”¨çš„æ‰€æœ‰èµ„æºï¼‰ã€‚</p>
<p>å‡½æ•°os.getenvç”¨äºè·å–æŸä¸ªç¯å¢ƒå˜é‡ï¼Œè¯¥å‡½æ•°çš„è¾“å…¥å‚æ•°æ˜¯ç¯å¢ƒå˜é‡çš„åç§°ï¼Œè¿”å›å€¼ä¸ºä¿å­˜äº†è¯¥ç¯å¢ƒå˜é‡å¯¹åº”å€¼çš„å­—ç¬¦ä¸²ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>print(os.getenv(<span style="color:#e6db74">&#34;HOME&#34;</span>))		<span style="color:#75715e">--&gt; /home/lua</span>
</span></span></code></pre></div><p>å¯¹äºæœªå®šä¹‰çš„ç¯å¢ƒå˜é‡ï¼Œè¯¥å‡½æ•°è¿”å›nilã€‚</p>
<h3 id="741-è¿è¡Œç³»ç»Ÿå‘½ä»¤">7.4.1 è¿è¡Œç³»ç»Ÿå‘½ä»¤</h3>
<p>å‡½æ•°os.executeç”¨äºè¿è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œå®ƒç­‰ä»·äºCè¯­è¨€ä¸­çš„å‡½æ•°systemã€‚è¯¥å‡½æ•°çš„å‚æ•°ä¸ºè¡¨ç¤ºå¾…æ‰§è¡Œå‘½ä»¤çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å€¼ä¸ºå‘½ä»¤è¿è¡Œç»“æŸåçš„çŠ¶æ€ã€‚å…¶ä¸­ï¼Œç¬¬ä¸€ä¸ªè¿”å›å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”ç±»å‹ï¼Œå½“ä¸ºtrueæ—¶è¡¨ç¤ºç¨‹åºæˆåŠŸè¿è¡Œå®Œæˆï¼›ç¬¬äºŒä¸ªè¿”å›å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå½“ä¸º&quot;exit&quot;æ—¶è¡¨ç¤ºç¨‹åºæ­£å¸¸è¿è¡Œç»“æŸï¼Œå½“ä¸º&quot;signal&quot;æ—¶è¡¨ç¤ºå› ä¿¡å·è€Œä¸­æ–­ï¼›ç¬¬ä¸‰ä¸ªè¿”å›å€¼æ˜¯è¿”å›çŠ¶æ€ï¼ˆè‹¥è¯¥ç¨‹åºæ­£å¸¸ç»ˆç»“ï¼‰æˆ–è€…ç»ˆç»“è¯¥ç¨‹åºçš„ä¿¡å·ä»£ç ã€‚ä¾‹å¦‚ï¼Œåœ¨POSIXå’ŒWindowsä¸­éƒ½å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‡½æ•°åˆ›å»ºæ–°ç›®å½•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">creatDir</span> (dirname)
</span></span><span style="display:flex;"><span>	os.execute(<span style="color:#e6db74">&#34;mkdir &#34;</span><span style="color:#f92672">..</span>dirname)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>å¦ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å‡½æ•°æ˜¯io.popenã€‚åŒå‡½æ•°os.executeä¸€æ ·ï¼Œè¯¥å‡½æ•°è¿è¡Œä¸€æ¡ç³»ç»Ÿå‘½ä»¤ï¼Œä½†è¯¥å‡½æ•°è¿˜å¯ä»¥é‡å®šå‘å‘½ä»¤çš„è¾“å…¥/è¾“å‡ºï¼Œä»è€Œä½¿å¾—ç¨‹åºå¯ä»¥å‘å‘½ä»¤ä¸­å†™å…¥æˆ–ä»å‘½ä»¤çš„è¾“å‡ºä¸­è¯»å–ã€‚ä¾‹å¦‚ï¼Œä¸‹åˆ—ä»£ç ä½¿ç”¨å½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰å†…å®¹æ„å»ºäº†ä¸€ä¸ªè¡¨ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">-- å¯¹äºPOSIXç³»ç»Ÿè€Œè¨€ï¼Œä½¿ç”¨&#39;ls&#39;è€Œé&#39;dir&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> f <span style="color:#f92672">=</span> io.popen(<span style="color:#e6db74">&#34;dir /B&#34;</span>, <span style="color:#e6db74">&#34;r&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> dir <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> entry <span style="color:#66d9ef">in</span> f:liners() <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	dir[<span style="color:#f92672">#</span>dir <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> entry
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>å…¶ä¸­ï¼Œå‡½æ•°io.popençš„ç¬¬äºŒä¸ªå‚æ•°&quot;r&quot;è¡¨ç¤ºä»å‘½ä»¤çš„æ‰§è¡Œç»“æœä¸­è¯»å–ã€‚ç”±äºè¯¥å‡½æ•°çš„é»˜è®¤è¡Œä¸ºå°±æ˜¯è¿™æ ·ï¼Œæ‰€ä»¥åœ¨ä¸Šä¾‹ä¸­è¿™ä¸ªå‚æ•°å®é™…æ˜¯å¯é€‰çš„ã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹ç”¨äºå‘é€ä¸€å°é‚®ä»¶ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> subject <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;some news&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> address <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;someone@somewhere.org&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> cmd <span style="color:#f92672">=</span> string.format(<span style="color:#e6db74">&#34;mail -s &#39;%s&#39; &#39;%s&#39;&#34;</span>, subject, address)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> f <span style="color:#f92672">=</span> io.popen(cmd, <span style="color:#e6db74">&#34;w&#34;</span>)
</span></span><span style="display:flex;"><span>f:write(<span style="color:#e6db74">[[
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Nothing important to say.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- me
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">]]</span>)
</span></span><span style="display:flex;"><span>f:close
</span></span></code></pre></div><p>æ³¨æ„ï¼Œè¯¥è„šæœ¬åªèƒ½åœ¨å®‰è£…äº†ç›¸åº”å·¥å…·åŒ…çš„POSXç³»ç»Ÿä¸­è¿è¡Œï¼ˆå³å¿…é¡»æ”¯æŒmailå‘½ä»¤ï¼‰ã€‚ä¸Šä¾‹ä¸­å‡½æ•°io.popençš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯&quot;w&rdquo;,è¡¨ç¤ºå‘è¯¥å‘½ä»¤ä¸­å†™å…¥ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä¸¤ä¸ªä¾‹å­ä¸­çœ‹åˆ°çš„ä¸€æ ·ï¼Œå‡½æ•°os.executeå’Œio.popenéƒ½æ˜¯åŠŸèƒ½éå¸¸å¼ºå¤§çš„å‡½æ•°ï¼Œä½†å®ƒä»¬ä¹ŸåŒæ ·æ˜¯éå¸¸ä¾èµ–äºæ“ä½œç³»ç»Ÿçš„ã€‚å¦‚æœè¦ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„å…¶ä»–æ‰©å±•åŠŸèƒ½ï¼Œæœ€å¥½çš„é€‰æ‹©æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œæ¯”å¦‚ç”¨äºåŸºæœ¬ç›®å½•æ“ä½œå’Œæ–‡ä»¶å±æ€§æ“ä½œçš„LuaFileSystemï¼Œæˆ–è€…æä¾›äº†POSIX.1æ ‡å‡†æ”¯æŒçš„luaposixåº“ã€‚</p>

        </div>

        <div class="row middle-xs">
          <div class="col-xs-12">
            
          </div>
        </div>
        
          <div class="row">
            <div class="col-xs-12">
              
            </div>
          </div>

          



          
          
          <div style="height: 50px;"></div>
          
          <div class="post-comments">
            <div id="disqus_thread"></div>
<script>
  window.addEventListener("load", () => {
    (function() {
      
      var d = document,
        s = d.createElement("script");
      s.src = "https://dongi30.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  });
</script>
<noscript
  >Please enable JavaScript to view the
  <a href="https://disqus.com/?ref_noscript"
    >comments powered by Disqus.</a
  ></noscript
>

          </div>
          
        

        <div class="site-footer">
  
  
</div>

      </div>
    </div>
  </article>

  

<script>
  
  
    
    
  
</script>

  

</body>

</html>